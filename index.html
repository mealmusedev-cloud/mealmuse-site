<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MealMuse — AI-Powered Meal Planning</title>
<meta name="description" content="A week of meals, planned in seconds. MealMuse is an AI-powered meal planning app for iOS and Android.">
<link rel="icon" type="image/svg+xml" href="favicon.svg">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=DM+Serif+Display:ital@0;1&family=Instrument+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
/* ========== RESET & BASE ========== */
*, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }
html { scroll-behavior: smooth; }
body {
  font-family: 'Instrument Sans', sans-serif;
  background: #F8F6F1;
  color: #2E2B26;
  line-height: 1.6;
  overflow-x: hidden;
  -webkit-font-smoothing: antialiased;
}
a { color: inherit; text-decoration: none; }
button { font-family: inherit; cursor: pointer; border: none; background: none; }
img { max-width: 100%; display: block; }
ul { list-style: none; }

/* ========== TYPOGRAPHY ========== */
h1, h2, h3, .logo { font-family: 'DM Serif Display', serif; font-weight: 400; }

/* ========== UTILITY ========== */
.container { max-width: 1200px; margin: 0 auto; padding: 0 24px; }
.accent { color: #B8885C; }
.section-label {
  font-size: 0.75rem;
  font-weight: 700;
  letter-spacing: 0.15em;
  text-transform: uppercase;
  color: #B8885C;
  margin-bottom: 12px;
}

/* ========== SCROLL ANIMATIONS ========== */
.fade-in {
  opacity: 0;
  transform: translateY(30px);
  transition: opacity 0.7s ease, transform 0.7s ease;
}
.fade-in.visible {
  opacity: 1;
  transform: translateY(0);
}

/* ========== NAV ========== */
.nav {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: 1000;
  padding: 0 24px;
  height: 72px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(248, 246, 241, 0.75);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border-bottom: 1px solid rgba(0,0,0,0.04);
}
.nav-inner {
  max-width: 1200px;
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: space-between;
}
.logo {
  font-size: 1.5rem;
  letter-spacing: -0.01em;
  cursor: pointer;
}
.nav-links {
  display: flex;
  align-items: center;
  gap: 36px;
}
.nav-links a {
  font-size: 0.9rem;
  font-weight: 500;
  color: #8A857C;
  transition: color 0.2s;
}
.nav-links a:hover { color: #2E2B26; }
.btn-primary {
  background: #2E2B26;
  color: #F8F6F1;
  padding: 10px 24px;
  border-radius: 100px;
  font-size: 0.9rem;
  font-weight: 600;
  transition: background 0.2s, transform 0.15s;
  display: inline-flex;
  align-items: center;
  gap: 8px;
}
.btn-primary:hover { background: #1a1815; transform: translateY(-1px); }
.btn-ghost {
  background: transparent;
  color: #2E2B26;
  padding: 10px 24px;
  border-radius: 100px;
  font-size: 0.9rem;
  font-weight: 600;
  border: 1.5px solid rgba(0,0,0,0.12);
  transition: border-color 0.2s, transform 0.15s;
  display: inline-flex;
  align-items: center;
  gap: 8px;
}
.btn-ghost:hover { border-color: rgba(0,0,0,0.3); transform: translateY(-1px); }
.btn-primary-light {
  background: #F8F6F1;
  color: #2E2B26;
  padding: 10px 24px;
  border-radius: 100px;
  font-size: 0.9rem;
  font-weight: 600;
  transition: background 0.2s, transform 0.15s;
  display: inline-flex;
  align-items: center;
  gap: 8px;
}
.btn-primary-light:hover { background: #fff; transform: translateY(-1px); }

/* Nav Dropdown */
.nav-dropdown {
  position: relative;
}
.nav-dropdown-trigger {
  cursor: pointer;
}
.nav-dropdown-menu {
  position: absolute;
  top: calc(100% + 8px);
  right: 0;
  background: #fff;
  border: 1px solid rgba(0,0,0,0.06);
  border-radius: 16px;
  padding: 8px;
  min-width: 200px;
  box-shadow: 0 12px 40px rgba(0,0,0,0.1);
  opacity: 0;
  visibility: hidden;
  transform: translateY(-4px);
  transition: opacity 0.2s, visibility 0.2s, transform 0.2s;
  z-index: 1001;
}
.nav-dropdown:hover .nav-dropdown-menu {
  opacity: 1;
  visibility: visible;
  transform: translateY(0);
}
.nav-dropdown-menu a {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 10px 14px;
  border-radius: 10px;
  font-size: 0.85rem;
  font-weight: 500;
  color: #2E2B26 !important;
  transition: background 0.15s;
}
.nav-dropdown-menu a:hover {
  background: #F8F6F1;
}
.nav-dropdown-menu a svg {
  width: 18px;
  height: 18px;
  fill: #2E2B26;
  flex-shrink: 0;
}
.nav-dropdown-menu a .platform-label {
  display: flex;
  flex-direction: column;
}
.nav-dropdown-menu a .platform-label small {
  font-size: 0.7rem;
  color: #8A857C;
  font-weight: 400;
}

/* ========== HERO ========== */
.hero {
  padding: 160px 24px 100px;
  position: relative;
  overflow: hidden;
}
.hero::before {
  content: '';
  position: absolute;
  bottom: -200px;
  left: -200px;
  width: 600px;
  height: 600px;
  background: radial-gradient(circle, rgba(184,136,92,0.08) 0%, transparent 70%);
  pointer-events: none;
}
.hero::after {
  content: '';
  position: absolute;
  top: -100px;
  right: -100px;
  width: 500px;
  height: 500px;
  background: radial-gradient(circle, rgba(125,168,110,0.06) 0%, transparent 70%);
  pointer-events: none;
}
.hero .noise {
  position: absolute;
  inset: 0;
  opacity: 0.3;
  pointer-events: none;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.04'/%3E%3C/svg%3E");
  background-size: 200px 200px;
}
.hero-inner {
  max-width: 1200px;
  margin: 0 auto;
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 60px;
  align-items: center;
  position: relative;
  z-index: 1;
}
.hero-text { max-width: 540px; }
.hero-tag {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  background: rgba(184,136,92,0.1);
  color: #B8885C;
  padding: 6px 14px;
  border-radius: 100px;
  font-size: 0.8rem;
  font-weight: 600;
  margin-bottom: 24px;
}
.hero-tag::before {
  content: '';
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background: #B8885C;
}
.hero h1 {
  font-size: clamp(2.4rem, 4.5vw, 3.6rem);
  line-height: 1.1;
  margin-bottom: 20px;
  letter-spacing: -0.02em;
}
.hero-subtitle {
  font-size: 1.1rem;
  color: #8A857C;
  line-height: 1.7;
  margin-bottom: 32px;
  max-width: 440px;
}
.hero-buttons { display: flex; gap: 12px; flex-wrap: wrap; }
.hero-buttons .btn-primary svg { width: 18px; height: 18px; fill: currentColor; }
.hero-buttons .btn-ghost svg {
  width: 16px;
  height: 16px;
  stroke: currentColor;
  fill: none;
  stroke-width: 2;
  transition: transform 0.2s;
}
.hero-buttons .btn-ghost:hover svg { transform: translateX(3px); }

/* Platform Buttons */
.btn-platform {
  display: inline-flex;
  align-items: center;
  gap: 10px;
  padding: 12px 22px;
  border-radius: 14px;
  font-size: 0.85rem;
  font-weight: 600;
  transition: transform 0.15s, box-shadow 0.2s;
  text-decoration: none;
}
.btn-platform:hover { transform: translateY(-2px); box-shadow: 0 8px 24px rgba(0,0,0,0.1); }
.btn-platform svg { width: 22px; height: 22px; fill: currentColor; }
.btn-platform-dark {
  background: #2E2B26;
  color: #F8F6F1;
}
.btn-platform-outline {
  background: transparent;
  color: #2E2B26;
  border: 1.5px solid rgba(0,0,0,0.15);
}
.btn-platform-outline:hover { border-color: rgba(0,0,0,0.3); }
.btn-platform .platform-info { display: flex; flex-direction: column; line-height: 1.2; }
.btn-platform .platform-info small { font-size: 0.65rem; font-weight: 400; opacity: 0.7; }
.btn-platform .platform-info span { font-size: 0.95rem; }

/* Hero Stat Strip */
.hero-stats {
  display: flex;
  gap: 32px;
  margin-top: 36px;
  padding-top: 28px;
  border-top: 1px solid rgba(0,0,0,0.06);
}
.hero-stat {
  display: flex;
  flex-direction: column;
}
.hero-stat-number {
  font-family: 'DM Serif Display', serif;
  font-size: 1.5rem;
  color: #B8885C;
  line-height: 1.2;
}
.hero-stat-label {
  font-size: 0.75rem;
  color: #8A857C;
  font-weight: 500;
}

/* ========== PHONE MOCKUP ========== */
.phone-wrapper {
  display: flex;
  justify-content: center;
  align-items: center;
}
.phone {
  width: 280px;
  height: 580px;
  background: #1a1a1a;
  border-radius: 44px;
  padding: 12px;
  position: relative;
  box-shadow:
    0 40px 80px rgba(0,0,0,0.12),
    0 16px 32px rgba(0,0,0,0.08),
    inset 0 0 0 1.5px rgba(255,255,255,0.1);
  animation: phoneFloat 6s ease-in-out infinite;
  transition: transform 0.15s ease-out, box-shadow 0.3s ease;
  transform-style: preserve-3d;
  will-change: transform;
}
.phone:hover {
  box-shadow:
    0 50px 100px rgba(0,0,0,0.15),
    0 20px 40px rgba(0,0,0,0.1),
    inset 0 0 0 1.5px rgba(255,255,255,0.15);
}
@keyframes phoneFloat {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-12px); }
}
.phone.tilt-active {
  animation: none;
}
.phone-notch {
  position: absolute;
  top: 12px;
  left: 50%;
  transform: translateX(-50%);
  width: 100px;
  height: 28px;
  background: #1a1a1a;
  border-radius: 0 0 18px 18px;
  z-index: 10;
}
.phone-screen {
  width: 100%;
  height: 100%;
  background: #F8F6F1;
  border-radius: 34px;
  overflow: hidden;
  padding: 48px 16px 16px;
}
.phone-header {
  font-family: 'DM Serif Display', serif;
  font-size: 1.15rem;
  margin-bottom: 12px;
  color: #2E2B26;
}
.phone-tabs {
  display: flex;
  gap: 4px;
  margin-bottom: 14px;
  overflow: hidden;
}
.phone-tab {
  padding: 5px 10px;
  border-radius: 100px;
  font-size: 0.65rem;
  font-weight: 600;
  color: #8A857C;
  background: transparent;
  white-space: nowrap;
}
.phone-tab {
  cursor: pointer;
  transition: background 0.25s, color 0.25s, transform 0.15s;
  user-select: none;
}
.phone-tab:hover:not(.active) {
  background: rgba(0,0,0,0.05);
  transform: translateY(-1px);
}
.phone-tab.active {
  background: #2E2B26;
  color: #F8F6F1;
}
.phone-meal {
  background: #FFFFFF;
  border-radius: 14px;
  padding: 12px;
  margin-bottom: 8px;
  border: 1px solid rgba(0,0,0,0.04);
}
.phone-meal-type {
  font-size: 0.55rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: #B0AAA0;
  margin-bottom: 4px;
}
.phone-meal-name {
  font-family: 'DM Serif Display', serif;
  font-size: 0.85rem;
  margin-bottom: 6px;
  color: #2E2B26;
}
.phone-meal-meta {
  display: flex;
  gap: 10px;
  font-size: 0.6rem;
  color: #8A857C;
}
.phone-meal-meta span { display: flex; align-items: center; gap: 3px; }

/* Phone meal interactions */
.phone-meals-container {
  position: relative;
}
.phone-meal {
  cursor: pointer;
  transition: transform 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease;
}
.phone-meal:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0,0,0,0.06);
  border-color: rgba(184,136,92,0.2);
}
.phone-meal:active {
  transform: scale(0.97);
}
.phone-meal-detail {
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.35s ease, opacity 0.3s ease, margin 0.3s ease;
  opacity: 0;
  margin-top: 0;
}
.phone-meal.expanded .phone-meal-detail {
  max-height: 80px;
  opacity: 1;
  margin-top: 8px;
}
.phone-meal-detail-inner {
  display: flex;
  gap: 6px;
  flex-wrap: wrap;
}
.phone-meal-tag {
  font-size: 0.5rem;
  padding: 2px 7px;
  border-radius: 100px;
  background: rgba(184,136,92,0.1);
  color: #B8885C;
  font-weight: 600;
  white-space: nowrap;
}
.phone-meal-desc {
  font-size: 0.52rem;
  color: #8A857C;
  line-height: 1.4;
  margin-top: 4px;
}

/* Meal slide transitions */
.phone-meals-container.sliding-out {
  animation: mealSlideOut 0.2s ease-in forwards;
}
.phone-meals-container.sliding-in {
  animation: mealSlideIn 0.25s ease-out forwards;
}
@keyframes mealSlideOut {
  0% { opacity: 1; transform: translateX(0); }
  100% { opacity: 0; transform: translateX(-20px); }
}
@keyframes mealSlideIn {
  0% { opacity: 0; transform: translateX(20px); }
  100% { opacity: 1; transform: translateX(0); }
}

/* Hero cursor glow */
.hero-glow {
  position: absolute;
  width: 400px;
  height: 400px;
  border-radius: 50%;
  background: radial-gradient(circle, rgba(184,136,92,0.07) 0%, transparent 70%);
  pointer-events: none;
  z-index: 0;
  transition: opacity 0.4s ease;
  opacity: 0;
  transform: translate(-50%, -50%);
}
.hero:hover .hero-glow {
  opacity: 1;
}

/* Magnetic feature cards */
.feature-card {
  transition: transform 0.25s ease, box-shadow 0.25s ease, border-color 0.25s ease;
  will-change: transform;
}

/* Stat counter pulse */
.stat-card-number.counting {
  transition: color 0.3s;
}
@keyframes countPulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.05); }
}
.stat-card-number.done-counting {
  animation: countPulse 0.4s ease;
}

/* ========== MARQUEE ========== */
.marquee-section {
  border-top: 1px solid rgba(0,0,0,0.06);
  border-bottom: 1px solid rgba(0,0,0,0.06);
  padding: 20px 0;
  overflow: hidden;
  position: relative;
}
.marquee-track {
  display: flex;
  gap: 40px;
  animation: marqueeScroll 30s linear infinite;
  width: max-content;
}
@keyframes marqueeScroll {
  0% { transform: translateX(0); }
  100% { transform: translateX(-50%); }
}
.marquee-item {
  display: flex;
  align-items: center;
  gap: 10px;
  white-space: nowrap;
  font-size: 0.95rem;
  font-weight: 500;
  color: #8A857C;
}
.marquee-item::before {
  content: '';
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background: #B8885C;
  flex-shrink: 0;
}

/* ========== STATS STRIP ========== */
.stats-strip {
  padding: 80px 24px;
}
.stats-strip-inner {
  max-width: 800px;
  margin: 0 auto;
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 24px;
  text-align: center;
}
.stat-card {
  padding: 32px 20px;
  background: #FFFFFF;
  border: 1px solid rgba(0,0,0,0.04);
  border-radius: 20px;
  transition: transform 0.25s ease, box-shadow 0.25s ease;
}
.stat-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 12px 40px rgba(0,0,0,0.06);
}
.stat-card-number {
  font-family: 'DM Serif Display', serif;
  font-size: 2.4rem;
  color: #B8885C;
  line-height: 1.1;
  margin-bottom: 6px;
}
.stat-card-label {
  font-size: 0.85rem;
  color: #8A857C;
  font-weight: 500;
}

/* ========== FEATURES ========== */
.features {
  padding: 120px 24px;
}
.features-header {
  text-align: center;
  margin-bottom: 56px;
}
.features-header h2 {
  font-size: clamp(1.8rem, 3vw, 2.6rem);
  letter-spacing: -0.02em;
}
.features-grid {
  max-width: 1000px;
  margin: 0 auto;
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 20px;
}
.feature-card {
  background: #FFFFFF;
  border: 1px solid rgba(0,0,0,0.04);
  border-left: 3px solid transparent;
  border-radius: 20px;
  padding: 32px 28px;
  transition: transform 0.25s ease, box-shadow 0.25s ease, border-color 0.25s ease;
}
.feature-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 12px 40px rgba(0,0,0,0.06);
  border-left-color: #B8885C;
}
.feature-icon {
  width: 48px;
  height: 48px;
  background: #F8F6F1;
  border-radius: 14px;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 18px;
}
.feature-icon svg {
  width: 24px;
  height: 24px;
  stroke: #B8885C;
  stroke-width: 1.8;
  fill: none;
  stroke-linecap: round;
  stroke-linejoin: round;
}
.feature-card h3 {
  font-family: 'Instrument Sans', sans-serif;
  font-size: 1.05rem;
  font-weight: 700;
  margin-bottom: 8px;
}
.feature-card p {
  font-size: 0.9rem;
  color: #8A857C;
  line-height: 1.6;
}

/* ========== PRICING ========== */
.pricing {
  padding: 120px 24px;
  background: linear-gradient(180deg, #F8F6F1 0%, #F3F0EA 100%);
}
.pricing-header {
  text-align: center;
  margin-bottom: 48px;
}
.pricing-header h2 {
  font-size: clamp(1.8rem, 3vw, 2.6rem);
  letter-spacing: -0.02em;
}
.pricing-cards {
  display: flex;
  gap: 20px;
  max-width: 680px;
  margin: 0 auto;
  align-items: start;
}
.pricing-card {
  flex: 1;
  background: #FFFFFF;
  border: 1px solid rgba(0,0,0,0.04);
  border-radius: 24px;
  padding: 36px 28px;
  position: relative;
}
.pricing-card.premium {
  border: 2px solid #B8885C;
  box-shadow: 0 20px 60px rgba(184,136,92,0.12);
  transform: scale(1.03);
}
.pricing-cta {
  margin-top: 28px;
  padding-top: 24px;
  border-top: 1px solid rgba(0,0,0,0.06);
}
.pricing-cta .btn-primary,
.pricing-cta .btn-ghost {
  width: 100%;
  justify-content: center;
}
.pricing-card.premium .pricing-cta { border-top-color: rgba(184,136,92,0.2); }
.pricing-badge {
  position: absolute;
  top: -13px;
  left: 50%;
  transform: translateX(-50%);
  background: #B8885C;
  color: #fff;
  font-size: 0.7rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  padding: 5px 16px;
  border-radius: 100px;
}
.pricing-plan-name {
  font-size: 0.75rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.12em;
  color: #B0AAA0;
  margin-bottom: 8px;
}
.pricing-price {
  font-family: 'DM Serif Display', serif;
  font-size: 2.4rem;
  margin-bottom: 4px;
}
.pricing-price span {
  font-family: 'Instrument Sans', sans-serif;
  font-size: 0.9rem;
  font-weight: 400;
  color: #8A857C;
}
.pricing-subtitle {
  font-size: 0.85rem;
  color: #B0AAA0;
  margin-bottom: 24px;
}
.pricing-features { display: flex; flex-direction: column; gap: 12px; }
.pricing-feature {
  display: flex;
  align-items: center;
  gap: 10px;
  font-size: 0.9rem;
  color: #2E2B26;
}
.pricing-feature .icon-check {
  width: 20px;
  height: 20px;
  border-radius: 50%;
  background: rgba(125,168,110,0.15);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}
.pricing-feature .icon-check svg {
  width: 12px;
  height: 12px;
  stroke: #7DA86E;
  fill: none;
  stroke-width: 2.5;
}
.pricing-feature .icon-dash {
  width: 20px;
  height: 20px;
  border-radius: 50%;
  background: rgba(0,0,0,0.05);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}
.pricing-feature .icon-dash svg {
  width: 10px;
  height: 10px;
  stroke: #B0AAA0;
  fill: none;
  stroke-width: 2.5;
}
.pricing-feature.limit { color: #8A857C; }

/* ========== ANDROID TESTER ========== */
.android-tester {
  max-width: 1200px;
  margin: 60px auto 0;
  padding: 0 24px;
}
.android-tester-inner {
  background: linear-gradient(135deg, #2E2B26 0%, #3d3830 100%);
  border-radius: 24px;
  padding: 48px 56px;
  display: flex;
  align-items: center;
  gap: 40px;
  position: relative;
  overflow: hidden;
}
.android-tester-inner::before {
  content: '';
  position: absolute;
  top: -60px;
  right: -60px;
  width: 300px;
  height: 300px;
  background: radial-gradient(circle, rgba(125,168,110,0.15) 0%, transparent 70%);
  pointer-events: none;
}
.android-tester-icon {
  width: 64px;
  height: 64px;
  background: rgba(125,168,110,0.15);
  border-radius: 16px;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}
.android-tester-icon svg {
  width: 32px;
  height: 32px;
  fill: #7DA86E;
}
.android-tester-content {
  flex: 1;
}
.android-tester-label {
  font-size: 0.7rem;
  font-weight: 700;
  letter-spacing: 0.15em;
  text-transform: uppercase;
  color: #7DA86E;
  margin-bottom: 8px;
}
.android-tester-content h3 {
  font-size: 1.4rem;
  color: #F8F6F1;
  letter-spacing: -0.01em;
  margin-bottom: 8px;
}
.android-tester-content p {
  font-size: 0.95rem;
  color: rgba(248,246,241,0.55);
  line-height: 1.6;
}
.android-tester-steps {
  display: flex;
  flex-direction: column;
  gap: 16px;
  margin-top: 20px;
}
.android-tester-step {
  display: flex;
  align-items: center;
  gap: 16px;
  background: rgba(255,255,255,0.05);
  border-radius: 14px;
  padding: 16px 20px;
}
.step-number {
  width: 32px;
  height: 32px;
  background: #7DA86E;
  color: #fff;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 0.85rem;
  flex-shrink: 0;
}
.step-text {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 2px;
}
.step-text strong {
  color: #F8F6F1;
  font-size: 0.95rem;
}
.step-text span {
  color: rgba(248,246,241,0.5);
  font-size: 0.82rem;
  line-height: 1.4;
}
.android-tester-btn {
  background: #7DA86E;
  color: #fff;
  padding: 10px 22px;
  border-radius: 100px;
  font-size: 0.85rem;
  font-weight: 600;
  transition: background 0.2s, transform 0.15s;
  display: inline-flex;
  align-items: center;
  gap: 8px;
  flex-shrink: 0;
  white-space: nowrap;
}
.android-tester-btn:hover { background: #6b9560; transform: translateY(-1px); }
.android-tester-btn svg { width: 15px; height: 15px; }
.android-tester-btn.btn-outline {
  background: transparent;
  border: 1.5px solid rgba(125,168,110,0.5);
  color: #7DA86E;
}
.android-tester-btn.btn-outline:hover {
  border-color: #7DA86E;
  background: rgba(125,168,110,0.1);
}

/* ========== CTA BAND ========== */
.cta-band {
  padding: 100px 24px;
  text-align: center;
  background: #2E2B26;
  color: #F8F6F1;
  position: relative;
  overflow: hidden;
  border-radius: 32px;
  max-width: 1200px;
  margin: 0 auto 0;
}
.cta-band::before {
  content: '';
  position: absolute;
  top: -100px;
  left: 50%;
  transform: translateX(-50%);
  width: 600px;
  height: 400px;
  background: radial-gradient(circle, rgba(184,136,92,0.15) 0%, transparent 70%);
  pointer-events: none;
}
.cta-band h2 {
  font-size: clamp(1.8rem, 3vw, 2.6rem);
  letter-spacing: -0.02em;
  margin-bottom: 12px;
  color: #B8885C;
  position: relative;
}
.cta-band p {
  font-size: 1.1rem;
  color: rgba(248,246,241,0.6);
  margin-bottom: 32px;
  position: relative;
}
.cta-band .btn-primary-light { position: relative; }
.cta-band .cta-buttons {
  display: flex;
  gap: 12px;
  justify-content: center;
  flex-wrap: wrap;
  position: relative;
}

/* ========== FOOTER ========== */
.footer {
  border-top: 1px solid rgba(0,0,0,0.06);
  padding: 60px 24px 32px;
}
.footer-inner {
  max-width: 1200px;
  margin: 0 auto;
}
.footer-grid {
  display: grid;
  grid-template-columns: 2fr 1fr 1fr;
  gap: 48px;
  margin-bottom: 40px;
}
.footer-brand .footer-logo {
  font-family: 'DM Serif Display', serif;
  font-size: 1.4rem;
  margin-bottom: 12px;
}
.footer-brand .footer-tagline {
  font-size: 0.9rem;
  color: #8A857C;
  line-height: 1.6;
  max-width: 280px;
}
.footer-col-title {
  font-size: 0.7rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.12em;
  color: #B0AAA0;
  margin-bottom: 16px;
}
.footer-col a {
  display: block;
  font-size: 0.9rem;
  color: #8A857C;
  margin-bottom: 10px;
  transition: color 0.2s;
}
.footer-col a:hover { color: #2E2B26; }
.footer-bottom {
  border-top: 1px solid rgba(0,0,0,0.06);
  padding-top: 24px;
  display: flex;
  align-items: center;
  justify-content: space-between;
}
.footer-copy {
  font-size: 0.8rem;
  color: #B0AAA0;
}
.footer-contact {
  font-size: 0.8rem;
  color: #8A857C;
}
.footer-contact a { color: #B8885C; }

/* ========== CONTENT PAGES ========== */
.content-page {
  display: none;
  padding: 120px 24px 80px;
  max-width: 720px;
  margin: 0 auto;
}
.content-page.active { display: block; }
.content-page h1 {
  font-size: 2.2rem;
  margin-bottom: 8px;
  letter-spacing: -0.02em;
}
.content-page .page-subtitle {
  font-size: 0.95rem;
  color: #B0AAA0;
  margin-bottom: 48px;
}
.content-page h2 {
  font-size: 1.15rem;
  font-family: 'Instrument Sans', sans-serif;
  font-weight: 700;
  margin-top: 36px;
  margin-bottom: 12px;
}
.content-page p, .content-page li {
  font-size: 0.95rem;
  color: #8A857C;
  line-height: 1.8;
  margin-bottom: 12px;
}
.content-page ul {
  padding-left: 20px;
  margin-bottom: 16px;
}
.content-page ul li {
  position: relative;
  padding-left: 8px;
  margin-bottom: 8px;
}
.content-page ul li::before {
  content: '—';
  position: absolute;
  left: -16px;
  color: #B0AAA0;
}
.back-link {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  font-size: 0.9rem;
  font-weight: 500;
  color: #B8885C;
  margin-bottom: 40px;
  transition: gap 0.2s;
}
.back-link:hover { gap: 10px; }
.faq-item { margin-bottom: 28px; }
.faq-item h3 {
  font-family: 'Instrument Sans', sans-serif;
  font-size: 1rem;
  font-weight: 700;
  margin-bottom: 6px;
  color: #2E2B26;
}
.faq-item p {
  font-size: 0.9rem;
  color: #8A857C;
  line-height: 1.7;
}
.contact-box {
  background: #FFFFFF;
  border: 1px solid rgba(0,0,0,0.04);
  border-radius: 16px;
  padding: 28px;
  margin-bottom: 40px;
}
.contact-box p {
  margin-bottom: 4px;
}
.contact-box a {
  color: #B8885C;
  font-weight: 500;
}

/* ========== MOBILE MENU ========== */
.mobile-menu-btn {
  display: none;
  flex-direction: column;
  justify-content: center;
  gap: 5px;
  width: 44px;
  height: 44px;
  padding: 10px;
  cursor: pointer;
  background: none;
  border: none;
  z-index: 1002;
}
.mobile-menu-btn span {
  display: block;
  width: 22px;
  height: 2px;
  background: #2E2B26;
  border-radius: 2px;
  transition: transform 0.3s, opacity 0.3s;
}
.mobile-menu-btn.active span:nth-child(1) { transform: translateY(7px) rotate(45deg); }
.mobile-menu-btn.active span:nth-child(2) { opacity: 0; }
.mobile-menu-btn.active span:nth-child(3) { transform: translateY(-7px) rotate(-45deg); }
.mobile-menu-overlay {
  display: none;
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.4);
  z-index: 999;
  opacity: 0;
  transition: opacity 0.3s;
}
.mobile-menu-overlay.active { display: block; opacity: 1; }

/* ========== RESPONSIVE: TABLET (<=1024px) ========== */
@media (max-width: 1024px) {
  .features-grid { grid-template-columns: repeat(2, 1fr); }
  .hero-inner { gap: 40px; }
  .hero { padding: 140px 24px 80px; }
}

/* ========== RESPONSIVE: <=768px — HAMBURGER + SINGLE COLUMN ========== */
@media (max-width: 768px) {
  /* Nav */
  .mobile-menu-btn { display: flex; }
  .nav { height: 56px; padding: 0 20px; }
  .logo { font-size: 1.25rem; }
  .nav-links {
    position: fixed;
    top: 0;
    right: -300px;
    width: 300px;
    height: 100dvh;
    background: #F8F6F1;
    flex-direction: column;
    align-items: stretch;
    padding: 80px 28px 32px;
    gap: 0;
    box-shadow: -8px 0 40px rgba(0,0,0,0.08);
    transition: right 0.3s ease;
    z-index: 1001;
    overflow-y: auto;
  }
  .nav-links.open { right: 0; }
  .nav-links > a {
    display: block !important;
    font-size: 1rem !important;
    padding: 16px 0;
    border-bottom: 1px solid rgba(0,0,0,0.05);
    color: #2E2B26 !important;
  }
  .nav-dropdown { width: 100%; }
  .nav-dropdown .nav-dropdown-trigger {
    width: 100%;
    justify-content: center;
    margin-top: 20px;
  }
  .nav-dropdown-menu {
    position: static;
    opacity: 1;
    visibility: visible;
    transform: none;
    box-shadow: none;
    border: 1px solid rgba(0,0,0,0.06);
    margin-top: 8px;
  }

  /* Hero — phone hidden, text centered and prominent */
  .hero { padding: 100px 20px 48px; }
  .hero::before, .hero::after { display: none; }
  .hero-inner {
    grid-template-columns: 1fr;
    text-align: center;
    gap: 0;
    max-width: 480px;
    margin: 0 auto;
  }
  .hero-text { max-width: 100%; }
  .hero-tag { font-size: 0.72rem; margin-bottom: 20px; }
  .hero h1 { font-size: 2.2rem; margin-bottom: 16px; line-height: 1.12; }
  .hero-subtitle {
    font-size: 1rem;
    margin-left: auto;
    margin-right: auto;
    margin-bottom: 28px;
    max-width: 340px;
    line-height: 1.65;
  }
  .hero-buttons {
    justify-content: center;
    flex-direction: column;
    align-items: center;
    gap: 10px;
  }
  .btn-platform {
    width: 100%;
    max-width: 260px;
    justify-content: center;
    padding: 14px 20px;
    border-radius: 16px;
  }
  .hero-stats {
    justify-content: center;
    gap: 32px;
    margin-top: 32px;
    padding-top: 24px;
  }
  .hero-stat { align-items: center; }
  .hero-stat-number { font-size: 1.4rem; }
  .hero-stat-label { font-size: 0.72rem; }

  /* Phone — hidden on mobile for cleaner look */
  .phone-wrapper { display: none; }

  /* Marquee */
  .marquee-section { padding: 16px 0; }
  .marquee-item { font-size: 0.82rem; gap: 8px; }
  .marquee-track { gap: 28px; }

  /* Stats */
  .stats-strip { padding: 48px 20px; }
  .stats-strip-inner { grid-template-columns: repeat(3, 1fr); gap: 10px; }
  .stat-card {
    padding: 24px 10px;
    border-radius: 16px;
  }
  .stat-card-number { font-size: 1.5rem; }
  .stat-card-label { font-size: 0.7rem; }

  /* Features — 2 column compact grid */
  .features { padding: 56px 20px; }
  .features-header { margin-bottom: 28px; }
  .features-header h2 { font-size: 1.5rem; }
  .section-label { font-size: 0.7rem; margin-bottom: 8px; }
  .features-grid {
    grid-template-columns: repeat(2, 1fr);
    max-width: 100%;
    gap: 10px;
  }
  .feature-card {
    padding: 18px 16px;
    border-radius: 16px;
    border-left: none;
    text-align: center;
  }
  .feature-card:hover { border-left-color: transparent; }
  .feature-icon {
    width: 44px;
    height: 44px;
    border-radius: 12px;
    margin: 0 auto 12px;
  }
  .feature-icon svg { width: 20px; height: 20px; }
  .feature-card h3 { font-size: 0.88rem; margin-bottom: 4px; }
  .feature-card p { font-size: 0.78rem; line-height: 1.5; }

  /* Pricing */
  .pricing { padding: 56px 20px; }
  .pricing-header { margin-bottom: 28px; }
  .pricing-header h2 { font-size: 1.5rem; }
  .pricing-cards {
    flex-direction: column;
    align-items: stretch;
    max-width: 100%;
    margin: 0;
    gap: 14px;
  }
  .pricing-card {
    padding: 28px 24px;
    border-radius: 20px;
  }
  .pricing-card.premium { transform: none; }
  .pricing-price { font-size: 2.2rem; }
  .pricing-feature { font-size: 0.88rem; }
  .pricing-features { gap: 10px; }
  .pricing-subtitle { margin-bottom: 20px; }

  /* Android Tester */
  .android-tester { margin: 40px auto 0; padding: 0 20px; }
  .android-tester-inner {
    flex-direction: column;
    text-align: center;
    padding: 36px 28px;
    gap: 20px;
  }
  .android-tester-icon { width: 52px; height: 52px; }
  .android-tester-icon svg { width: 26px; height: 26px; }
  .android-tester-content h3 { font-size: 1.2rem; }
  .android-tester-content p { font-size: 0.88rem; }
  .android-tester-step {
    flex-direction: column;
    text-align: center;
    gap: 12px;
    padding: 16px;
  }
  .step-text { align-items: center; }
  .android-tester-btn { width: 100%; justify-content: center; padding: 12px 20px; border-radius: 14px; }

  /* CTA — full width, no side margins */
  .cta-band {
    border-radius: 0;
    margin: 0;
    padding: 56px 24px;
    max-width: 100%;
  }
  .cta-band h2 { font-size: 1.5rem; margin-bottom: 10px; }
  .cta-band p { font-size: 0.95rem; margin-bottom: 28px; }
  .cta-buttons { flex-direction: column; align-items: center; gap: 10px; }
  .cta-buttons .btn-primary-light {
    width: 100%;
    max-width: 260px;
    justify-content: center;
    font-size: 0.88rem;
    padding: 14px 20px;
    border-radius: 16px;
  }

  /* Footer */
  .footer { padding: 48px 20px 24px; }
  .footer-grid {
    grid-template-columns: 1fr 1fr;
    text-align: center;
    gap: 28px;
    margin-bottom: 28px;
  }
  .footer-brand {
    grid-column: 1 / -1;
    text-align: center;
  }
  .footer-brand .footer-tagline { max-width: 280px; margin: 0 auto; }
  .footer-col { text-align: center; }
  .footer-col-title { margin-bottom: 10px; }
  .footer-col a { margin-bottom: 8px; font-size: 0.85rem; }
  .footer-logo { font-size: 1.2rem; }
  .footer-bottom {
    flex-direction: column;
    gap: 6px;
    text-align: center;
  }
  .footer-copy { font-size: 0.75rem; }
  .footer-contact { font-size: 0.75rem; }

  /* Content pages */
  .content-page { padding: 80px 20px 48px; }
  .content-page h1 { font-size: 1.6rem; }
  .content-page .page-subtitle { margin-bottom: 32px; }
  .content-page h2 { font-size: 1.05rem; margin-top: 28px; }
  .content-page p, .content-page li { font-size: 0.88rem; }
  .contact-box { padding: 22px; border-radius: 16px; }
  .faq-item { margin-bottom: 22px; }
  .back-link { margin-bottom: 28px; }
}

/* ========== RESPONSIVE: SMALL PHONE (<=380px) ========== */
@media (max-width: 380px) {
  .hero { padding: 88px 16px 40px; }
  .hero h1 { font-size: 1.8rem; }
  .hero-subtitle { font-size: 0.9rem; max-width: 300px; }
  .btn-platform { max-width: 240px; padding: 12px 16px; }
  .btn-platform .platform-info span { font-size: 0.85rem; }
  .hero-stats { gap: 24px; }
  .hero-stat-number { font-size: 1.25rem; }
  .stat-card-number { font-size: 1.3rem; }
  .stat-card-label { font-size: 0.65rem; }
  .features-grid { gap: 8px; }
  .feature-card { padding: 14px 12px; }
  .feature-card h3 { font-size: 0.82rem; }
  .feature-card p { font-size: 0.72rem; }
  .feature-icon { width: 38px; height: 38px; margin: 0 auto 10px; }
  .feature-icon svg { width: 18px; height: 18px; }
  .pricing-card { padding: 22px 18px; }
  .cta-band { padding: 44px 16px; }
}

/* ========== ORIENTATION: LANDSCAPE PHONE ========== */
@media (max-height: 500px) and (orientation: landscape) {
  .hero { padding: 72px 24px 32px; }
  .hero-inner { grid-template-columns: 1fr; text-align: center; gap: 24px; max-width: 600px; }
  .hero-buttons { flex-direction: row; justify-content: center; }
  .btn-platform { width: auto; max-width: none; }
  .hero-subtitle { margin-left: auto; margin-right: auto; }
  .hero-stats { justify-content: center; }
  .phone-wrapper { display: none; }
  .stats-strip { padding: 32px 24px; }
  .features { padding: 40px 24px; }
  .pricing { padding: 40px 24px; }
  .cta-band { padding: 32px 24px; }
  .nav-links { height: 100dvh; padding-top: 68px; }
}

/* ========== ORIENTATION: LANDSCAPE TABLET ========== */
@media (min-width: 481px) and (max-width: 1024px) and (orientation: landscape) {
  .hero-inner {
    grid-template-columns: 1fr 1fr;
    text-align: left;
    gap: 32px;
    max-width: 1200px;
  }
  .hero-subtitle { margin-left: 0; margin-right: 0; max-width: 440px; }
  .hero-buttons { justify-content: flex-start; flex-direction: row; }
  .btn-platform { width: auto; max-width: none; }
  .hero-stats { justify-content: flex-start; }
  .phone-wrapper { display: flex; order: 0; }
  .features-grid { grid-template-columns: repeat(3, 1fr); max-width: 100%; }
  .stats-strip-inner { grid-template-columns: repeat(3, 1fr); }
}

/* ========== TOUCH TARGETS ========== */
@media (pointer: coarse) {
  .nav-links a { min-height: 44px; display: flex; align-items: center; }
  .btn-primary, .btn-ghost, .btn-primary-light, .btn-platform { min-height: 44px; }
  .pricing-cta .btn-primary, .pricing-cta .btn-ghost { min-height: 48px; }
  .footer-col a { min-height: 44px; display: flex; align-items: center; justify-content: inherit; }
  .back-link { min-height: 44px; }
}

/* ========== ACCOUNT PAGE ========== */
.account-page {
  display: none;
  padding: 120px 24px 80px;
  max-width: 480px;
  margin: 0 auto;
}
.account-page.active { display: block; }

/* Sign-in state */
.account-signin {
  text-align: center;
}
.account-signin-icon {
  width: 72px;
  height: 72px;
  margin: 0 auto 24px;
  background: rgba(184,136,92,0.1);
  border-radius: 20px;
  display: flex;
  align-items: center;
  justify-content: center;
}
.account-signin-icon svg {
  width: 32px;
  height: 32px;
  stroke: #B8885C;
  stroke-width: 1.8;
  fill: none;
  stroke-linecap: round;
  stroke-linejoin: round;
}
.account-signin h1 {
  font-size: 1.8rem;
  margin-bottom: 8px;
  letter-spacing: -0.02em;
}
.account-signin .account-subtitle {
  font-size: 0.95rem;
  color: #8A857C;
  margin-bottom: 36px;
  line-height: 1.6;
}
.signin-buttons {
  display: flex;
  flex-direction: column;
  gap: 12px;
  align-items: center;
}
.btn-signin {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 12px;
  width: 100%;
  max-width: 320px;
  padding: 14px 24px;
  border-radius: 14px;
  font-size: 0.95rem;
  font-weight: 600;
  font-family: inherit;
  cursor: pointer;
  transition: transform 0.15s, box-shadow 0.2s;
  border: none;
}
.btn-signin:hover {
  transform: translateY(-1px);
  box-shadow: 0 8px 24px rgba(0,0,0,0.1);
}
.btn-signin svg { width: 20px; height: 20px; flex-shrink: 0; }
.btn-signin-google {
  background: #FFFFFF;
  color: #2E2B26;
  border: 1.5px solid rgba(0,0,0,0.1);
}
.btn-signin-apple {
  background: #2E2B26;
  color: #F8F6F1;
}
.signin-divider {
  display: flex;
  align-items: center;
  gap: 16px;
  margin: 8px 0;
  max-width: 320px;
  width: 100%;
  margin-left: auto;
  margin-right: auto;
}
.signin-divider::before,
.signin-divider::after {
  content: '';
  flex: 1;
  height: 1px;
  background: rgba(0,0,0,0.06);
}
.signin-divider span {
  font-size: 0.75rem;
  color: #B0AAA0;
  font-weight: 500;
  text-transform: uppercase;
  letter-spacing: 0.1em;
}
.signin-footer-text {
  margin-top: 32px;
  font-size: 0.8rem;
  color: #B0AAA0;
  line-height: 1.6;
}
.signin-footer-text a {
  color: #B8885C;
  font-weight: 500;
}

/* Dashboard state (after sign-in) */
.account-dashboard { display: none; }
.account-dashboard.active { display: block; }
.account-signin.hidden { display: none; }

.dashboard-header {
  text-align: center;
  margin-bottom: 32px;
}
.dashboard-avatar {
  width: 64px;
  height: 64px;
  border-radius: 50%;
  margin: 0 auto 16px;
  background: rgba(184,136,92,0.1);
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
}
.dashboard-avatar img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 50%;
}
.dashboard-avatar svg {
  width: 28px;
  height: 28px;
  stroke: #B8885C;
  stroke-width: 1.8;
  fill: none;
}
.dashboard-header h1 {
  font-size: 1.5rem;
  margin-bottom: 4px;
  letter-spacing: -0.02em;
}
.dashboard-header p {
  font-size: 0.9rem;
  color: #8A857C;
}

.account-card {
  background: #FFFFFF;
  border: 1px solid rgba(0,0,0,0.04);
  border-radius: 20px;
  padding: 28px;
  margin-bottom: 16px;
}
.account-card-title {
  font-size: 0.7rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.12em;
  color: #B0AAA0;
  margin-bottom: 16px;
}
.sub-status {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-bottom: 12px;
}
.sub-badge {
  display: inline-flex;
  align-items: center;
  gap: 5px;
  padding: 4px 12px;
  border-radius: 100px;
  font-size: 0.75rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.06em;
}
.sub-badge.active {
  background: rgba(125,168,110,0.12);
  color: #5a8f4a;
}
.sub-badge.free {
  background: rgba(0,0,0,0.05);
  color: #8A857C;
}
.sub-badge.expired {
  background: rgba(200,80,80,0.1);
  color: #c05050;
}
.sub-detail {
  font-size: 0.9rem;
  color: #8A857C;
  margin-bottom: 6px;
  line-height: 1.5;
}
.sub-detail strong { color: #2E2B26; }

.manage-sub-info {
  margin-top: 20px;
  padding-top: 20px;
  border-top: 1px solid rgba(0,0,0,0.06);
}
.manage-sub-info p {
  font-size: 0.85rem;
  color: #8A857C;
  margin-bottom: 12px;
  line-height: 1.6;
}
.manage-links {
  display: flex;
  flex-direction: column;
  gap: 8px;
}
.manage-link {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 12px 16px;
  background: #F8F6F1;
  border-radius: 12px;
  font-size: 0.88rem;
  font-weight: 500;
  color: #2E2B26;
  transition: background 0.2s;
}
.manage-link:hover { background: #f0ede6; }
.manage-link svg { width: 18px; height: 18px; fill: #2E2B26; flex-shrink: 0; }

.btn-signout {
  width: 100%;
  padding: 14px;
  border-radius: 14px;
  font-size: 0.9rem;
  font-weight: 600;
  font-family: inherit;
  cursor: pointer;
  background: transparent;
  color: #c05050;
  border: 1.5px solid rgba(200,80,80,0.2);
  transition: background 0.2s, border-color 0.2s;
  margin-top: 8px;
}
.btn-signout:hover {
  background: rgba(200,80,80,0.05);
  border-color: rgba(200,80,80,0.3);
}

.account-loading {
  text-align: center;
  padding: 40px 0;
  color: #B0AAA0;
  font-size: 0.9rem;
}
.spinner {
  width: 32px;
  height: 32px;
  border: 3px solid rgba(184,136,92,0.2);
  border-top-color: #B8885C;
  border-radius: 50%;
  animation: spin 0.7s linear infinite;
  margin: 0 auto 12px;
}
@keyframes spin { to { transform: rotate(360deg); } }

@media (max-width: 768px) {
  .account-page { padding: 80px 20px 48px; }
  .account-signin h1 { font-size: 1.5rem; }
  .account-signin-icon { width: 60px; height: 60px; margin-bottom: 20px; }
  .account-signin-icon svg { width: 28px; height: 28px; }
  .btn-signin { max-width: 100%; }
  .signin-divider { max-width: 100%; }
  .dashboard-header h1 { font-size: 1.3rem; }
  .account-card { padding: 22px; border-radius: 16px; }
}

/* ========== SCROLL PROGRESS BAR ========== */
.scroll-progress {
  position: fixed;
  top: 0;
  left: 0;
  height: 3px;
  background: linear-gradient(90deg, #B8885C, #7DA86E);
  z-index: 1100;
  width: 0%;
  transition: width 0.05s linear;
  border-radius: 0 2px 2px 0;
}

/* ========== BUTTON RIPPLE EFFECT ========== */
.btn-ripple {
  position: relative;
  overflow: hidden;
}
.btn-ripple .ripple-circle {
  position: absolute;
  border-radius: 50%;
  background: rgba(255,255,255,0.35);
  transform: scale(0);
  animation: rippleExpand 0.6s ease-out forwards;
  pointer-events: none;
}
@keyframes rippleExpand {
  to { transform: scale(4); opacity: 0; }
}

/* ========== PHONE NOTIFICATION TOAST ========== */
.phone-toast {
  position: absolute;
  top: 36px;
  left: 12px;
  right: 12px;
  background: #fff;
  border-radius: 12px;
  padding: 8px 10px;
  display: flex;
  align-items: center;
  gap: 8px;
  box-shadow: 0 4px 20px rgba(0,0,0,0.12);
  z-index: 20;
  transform: translateY(-60px);
  opacity: 0;
  transition: transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1), opacity 0.3s ease;
  pointer-events: none;
}
.phone-toast.show {
  transform: translateY(0);
  opacity: 1;
}
.phone-toast-icon {
  width: 28px;
  height: 28px;
  border-radius: 8px;
  background: rgba(184,136,92,0.12);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  font-size: 14px;
}
.phone-toast-text {
  display: flex;
  flex-direction: column;
  min-width: 0;
}
.phone-toast-title {
  font-size: 0.55rem;
  font-weight: 700;
  color: #2E2B26;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.phone-toast-body {
  font-size: 0.48rem;
  color: #8A857C;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* ========== GENERATE BUTTON ON PHONE ========== */
.phone-generate-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 5px;
  width: 100%;
  padding: 8px;
  margin-top: 8px;
  border-radius: 10px;
  background: #2E2B26;
  color: #F8F6F1;
  font-size: 0.6rem;
  font-weight: 700;
  font-family: 'Instrument Sans', sans-serif;
  cursor: pointer;
  border: none;
  transition: transform 0.15s, background 0.2s;
  letter-spacing: 0.04em;
}
.phone-generate-btn:hover {
  background: #1a1815;
  transform: translateY(-1px);
}
.phone-generate-btn:active {
  transform: scale(0.96);
}
.phone-generate-btn svg {
  width: 12px;
  height: 12px;
  fill: none;
  stroke: currentColor;
  stroke-width: 2;
  stroke-linecap: round;
  stroke-linejoin: round;
  transition: transform 0.4s ease;
}
.phone-generate-btn.spinning svg {
  animation: spinIcon 0.6s ease;
}
@keyframes spinIcon {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

/* Phone shuffle animation */
@keyframes mealShuffleOut {
  0% { opacity: 1; transform: translateY(0) scale(1); }
  50% { opacity: 0; transform: translateY(-10px) scale(0.9); }
  100% { opacity: 0; transform: translateY(-10px) scale(0.9); }
}
@keyframes mealShuffleIn {
  0% { opacity: 0; transform: translateY(10px) scale(0.9); }
  50% { opacity: 0; transform: translateY(10px) scale(0.9); }
  100% { opacity: 1; transform: translateY(0) scale(1); }
}
.phone-meal.shuffle-out {
  animation: mealShuffleOut 0.3s ease forwards;
}
.phone-meal.shuffle-in {
  animation: mealShuffleIn 0.4s ease forwards;
}

/* ========== FLOATING FOOD PARTICLES ========== */
.food-particle {
  position: absolute;
  pointer-events: none;
  z-index: 0;
  font-size: 1.4rem;
  opacity: 0;
  animation: floatParticle linear forwards;
  user-select: none;
}
@keyframes floatParticle {
  0% { opacity: 0; transform: translateY(0) rotate(0deg) scale(0.5); }
  10% { opacity: 0.25; transform: translateY(-30px) rotate(20deg) scale(0.8); }
  50% { opacity: 0.18; }
  90% { opacity: 0.08; }
  100% { opacity: 0; transform: translateY(-280px) rotate(180deg) scale(0.4); }
}

/* ========== PRICING CARD 3D TILT ========== */
.pricing-card {
  transition: transform 0.3s ease, box-shadow 0.3s ease, border-color 0.3s ease;
  transform-style: preserve-3d;
  will-change: transform;
}

/* ========== TEXT REVEAL ANIMATION ========== */
.text-reveal {
  display: inline-block;
}
.text-reveal .char {
  display: inline-block;
  opacity: 0;
  transform: translateY(20px) rotate(5deg);
  transition: opacity 0.4s ease, transform 0.4s ease;
}
.text-reveal.revealed .char {
  opacity: 1;
  transform: translateY(0) rotate(0deg);
}

/* ========== PARALLAX ELEMENTS ========== */
.parallax-layer {
  will-change: transform;
  transition: transform 0.1s linear;
}

/* ========== CTA CONFETTI CANVAS ========== */
.cta-confetti-canvas {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 0;
}

/* ========== MARQUEE HOVER PAUSE ========== */
.marquee-section:hover .marquee-track {
  animation-play-state: paused;
}
.marquee-item {
  transition: transform 0.2s ease, color 0.2s ease;
  cursor: default;
}
.marquee-item:hover {
  color: #2E2B26;
  transform: scale(1.08);
}

/* ========== STAT CARD HOVER GLOW ========== */
.stat-card {
  position: relative;
  overflow: hidden;
}
.stat-card::after {
  content: '';
  position: absolute;
  inset: 0;
  background: radial-gradient(circle at var(--mouse-x, 50%) var(--mouse-y, 50%), rgba(184,136,92,0.08) 0%, transparent 60%);
  opacity: 0;
  transition: opacity 0.3s ease;
  pointer-events: none;
}
.stat-card:hover::after {
  opacity: 1;
}
</style>
</head>
<body>

<!-- SCROLL PROGRESS BAR -->
<div class="scroll-progress" id="scroll-progress"></div>

<!-- ==================== NAV ==================== -->
<nav class="nav">
  <div class="nav-inner">
    <div class="logo" onclick="showPage('landing')">Meal<span class="accent">Muse</span></div>
    <button class="mobile-menu-btn" onclick="toggleMobileMenu()" aria-label="Toggle menu">
      <span></span><span></span><span></span>
    </button>
    <div class="nav-links">
      <a href="#" onclick="showPage('landing'); closeMobileMenu(); return false;">Home</a>
      <a href="#features-section" onclick="handleNavLink(event, 'features-section'); closeMobileMenu();">Features</a>
      <a href="#" onclick="showPage('support'); closeMobileMenu(); return false;">Support</a>
      <a href="#" onclick="showPage('account'); closeMobileMenu(); return false;">Account</a>
      <div class="nav-dropdown">
        <span class="btn-primary nav-dropdown-trigger">
          Get the App
          <svg viewBox="0 0 24 24" width="14" height="14" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"/></svg>
        </span>
        <div class="nav-dropdown-menu">
          <a href="https://apps.apple.com/us/app/mealmuse-pro/id6759481440" target="_blank" rel="noopener">
            <svg viewBox="0 0 384 512"><path d="M318.7 268.7c-.2-36.7 16.4-64.4 50-84.8-18.8-26.9-47.2-41.7-84.7-44.6-35.5-2.8-74.3 20.7-88.5 20.7-15 0-49.4-19.7-76.4-19.7C63.3 141.2 4 184.8 4 273.5c0 26.2 4.8 53.3 14.4 81.2 12.8 36.7 59 126.7 107.2 125.2 25.2-.6 43-17.9 75.8-17.9 31.8 0 48.3 17.9 76.4 17.9 48.6-.7 90.4-82.5 102.6-119.3-65.2-30.7-61.7-90-61.7-91.9zm-56.6-164.2c27.3-32.4 24.8-61.9 24-72.5-24.1 1.4-52 16.4-67.9 34.9-17.5 19.8-27.8 44.3-25.6 71.9 26.1 2 49.9-11.4 69.5-34.3z"/></svg>
            <span class="platform-label">Download for iOS<small>App Store</small></span>
          </a>
          <a href="https://play.google.com/store/apps/details?id=com.mealmuse.app" target="_blank" rel="noopener">
            <svg viewBox="0 0 24 24"><path d="M3.609 1.814L13.792 12 3.61 22.186a.996.996 0 0 1-.61-.92V2.734a1 1 0 0 1 .609-.92zm10.89 10.893l2.302 2.302-10.937 6.333 8.635-8.635zm3.199-3.199l2.144 1.24a1 1 0 0 1 0 1.732l-2.144 1.24-2.53-2.53 2.53-2.682zM5.864 2.658L16.8 8.99l-2.302 2.302-8.634-8.634z"/></svg>
            <span class="platform-label">Download for Android<small>Google Play</small></span>
          </a>
        </div>
      </div>
    </div>
  </div>
</nav>
<div class="mobile-menu-overlay" onclick="closeMobileMenu()"></div>

<!-- ==================== LANDING PAGE ==================== -->
<main id="landing-page">

  <!-- HERO -->
  <section class="hero">
    <div class="noise"></div>
    <div class="hero-glow" id="hero-glow"></div>
    <div class="hero-inner">
      <div class="hero-text fade-in">
        <div class="hero-tag">AI-Powered Meal Planning</div>
        <h1>A week of meals,<br><span class="accent">planned in seconds.</span></h1>
        <p class="hero-subtitle">MealMuse uses AI to build personalized meal plans, grocery lists, and recipes — tailored to your diet, budget, and schedule.</p>
        <div class="hero-buttons">
          <a href="https://apps.apple.com/us/app/mealmuse-pro/id6759481440" class="btn-platform btn-platform-dark" target="_blank" rel="noopener">
            <svg viewBox="0 0 384 512"><path d="M318.7 268.7c-.2-36.7 16.4-64.4 50-84.8-18.8-26.9-47.2-41.7-84.7-44.6-35.5-2.8-74.3 20.7-88.5 20.7-15 0-49.4-19.7-76.4-19.7C63.3 141.2 4 184.8 4 273.5c0 26.2 4.8 53.3 14.4 81.2 12.8 36.7 59 126.7 107.2 125.2 25.2-.6 43-17.9 75.8-17.9 31.8 0 48.3 17.9 76.4 17.9 48.6-.7 90.4-82.5 102.6-119.3-65.2-30.7-61.7-90-61.7-91.9zm-56.6-164.2c27.3-32.4 24.8-61.9 24-72.5-24.1 1.4-52 16.4-67.9 34.9-17.5 19.8-27.8 44.3-25.6 71.9 26.1 2 49.9-11.4 69.5-34.3z"/></svg>
            <span class="platform-info"><small>Download on</small><span>App Store</span></span>
          </a>
          <a href="https://play.google.com/store/apps/details?id=com.mealmuse.app" class="btn-platform btn-platform-outline" target="_blank" rel="noopener">
            <svg viewBox="0 0 24 24"><path d="M3.609 1.814L13.792 12 3.61 22.186a.996.996 0 0 1-.61-.92V2.734a1 1 0 0 1 .609-.92zm10.89 10.893l2.302 2.302-10.937 6.333 8.635-8.635zm3.199-3.199l2.144 1.24a1 1 0 0 1 0 1.732l-2.144 1.24-2.53-2.53 2.53-2.682zM5.864 2.658L16.8 8.99l-2.302 2.302-8.634-8.634z"/></svg>
            <span class="platform-info"><small>Download on</small><span>Google Play</span></span>
          </a>
        </div>
        <div class="hero-stats">
          <div class="hero-stat">
            <span class="hero-stat-number">15+</span>
            <span class="hero-stat-label">Cuisines</span>
          </div>
          <div class="hero-stat">
            <span class="hero-stat-number">500+</span>
            <span class="hero-stat-label">Recipes</span>
          </div>
          <div class="hero-stat">
            <span class="hero-stat-number">AI</span>
            <span class="hero-stat-label">Powered</span>
          </div>
        </div>
      </div>
      <div class="phone-wrapper fade-in" style="transition-delay: .15s;">
        <div class="phone">
          <div class="phone-notch"></div>
          <!-- Phone notification toast -->
          <div class="phone-toast" id="phone-toast">
            <div class="phone-toast-icon" id="phone-toast-icon"></div>
            <div class="phone-toast-text">
              <div class="phone-toast-title" id="phone-toast-title"></div>
              <div class="phone-toast-body" id="phone-toast-body"></div>
            </div>
          </div>
          <div class="phone-screen">
            <div class="phone-header">This Week</div>
            <div class="phone-tabs" id="phone-tabs">
              <div class="phone-tab active" data-day="0">Mon</div>
              <div class="phone-tab" data-day="1">Tue</div>
              <div class="phone-tab" data-day="2">Wed</div>
              <div class="phone-tab" data-day="3">Thu</div>
              <div class="phone-tab" data-day="4">Fri</div>
              <div class="phone-tab" data-day="5">Sat</div>
              <div class="phone-tab" data-day="6">Sun</div>
            </div>
            <div class="phone-meals-container" id="phone-meals"></div>
            <button class="phone-generate-btn" id="phone-generate" onclick="shuffleMeals()">
              <svg viewBox="0 0 24 24"><path d="M23 4v6h-6"/><path d="M1 20v-6h6"/><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"/></svg>
              Generate New Plan
            </button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- MARQUEE -->
  <section class="marquee-section">
    <div class="marquee-track">
      <div class="marquee-item">15+ Cuisine Types</div>
      <div class="marquee-item">Smart Grocery Lists</div>
      <div class="marquee-item">Macro Tracking</div>
      <div class="marquee-item">Budget Planning</div>
      <div class="marquee-item">Step-by-Step Recipes</div>
      <div class="marquee-item">Barcode Scanner</div>
      <div class="marquee-item">Allergen Filters</div>
      <div class="marquee-item">Keto · Vegan · Paleo</div>
      <!-- Duplicated for seamless loop -->
      <div class="marquee-item">15+ Cuisine Types</div>
      <div class="marquee-item">Smart Grocery Lists</div>
      <div class="marquee-item">Macro Tracking</div>
      <div class="marquee-item">Budget Planning</div>
      <div class="marquee-item">Step-by-Step Recipes</div>
      <div class="marquee-item">Barcode Scanner</div>
      <div class="marquee-item">Allergen Filters</div>
      <div class="marquee-item">Keto · Vegan · Paleo</div>
    </div>
  </section>

  <!-- STATS STRIP -->
  <section class="stats-strip">
    <div class="stats-strip-inner">
      <div class="stat-card fade-in" style="transition-delay: .05s;">
        <div class="stat-card-number">500+</div>
        <div class="stat-card-label">Unique Recipes</div>
      </div>
      <div class="stat-card fade-in" style="transition-delay: .1s;">
        <div class="stat-card-number">15+</div>
        <div class="stat-card-label">Cuisine Types</div>
      </div>
      <div class="stat-card fade-in" style="transition-delay: .15s;">
        <div class="stat-card-number">$4.99</div>
        <div class="stat-card-label">Per Month, Cancel Anytime</div>
      </div>
    </div>
  </section>

  <!-- FEATURES -->
  <section class="features" id="features-section">
    <div class="features-header fade-in">
      <div class="section-label">What You Get</div>
      <h2>Everything to plan, cook, and eat well.</h2>
    </div>
    <div class="features-grid">
      <div class="feature-card fade-in" style="transition-delay: .05s;">
        <div class="feature-icon"><svg viewBox="0 0 24 24"><rect x="3" y="4" width="18" height="18" rx="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/><line x1="8" y1="14" x2="8" y2="14.01"/><line x1="12" y1="14" x2="12" y2="14.01"/><line x1="16" y1="14" x2="16" y2="14.01"/><line x1="8" y1="18" x2="8" y2="18.01"/><line x1="12" y1="18" x2="12" y2="18.01"/></svg></div>
        <h3>7-Day Meal Plans</h3>
        <p>AI generates a full week of balanced meals based on your diet, cuisine preferences, and schedule.</p>
      </div>
      <div class="feature-card fade-in" style="transition-delay: .1s;">
        <div class="feature-icon"><svg viewBox="0 0 24 24"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78L12 21.23l8.84-8.84a5.5 5.5 0 0 0 0-7.78z"/><path d="M3.5 12h3l2-4 3 8 2-4h3.5"/></svg></div>
        <h3>Nutrition Tracking</h3>
        <p>See calories, protein, carbs, and fat for every meal. Hit your macros without a spreadsheet.</p>
      </div>
      <div class="feature-card fade-in" style="transition-delay: .15s;">
        <div class="feature-icon"><svg viewBox="0 0 24 24"><path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"/><line x1="3" y1="6" x2="21" y2="6"/><path d="M16 10a4 4 0 0 1-8 0"/></svg></div>
        <h3>Smart Grocery Lists</h3>
        <p>Automatically generated shopping lists grouped by aisle, with quantities adjusted to your plan.</p>
      </div>
      <div class="feature-card fade-in" style="transition-delay: .2s;">
        <div class="feature-icon"><svg viewBox="0 0 24 24"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/></svg></div>
        <h3>Step-by-Step Recipes</h3>
        <p>Clear, beginner-friendly instructions for every meal. No culinary degree required.</p>
      </div>
      <div class="feature-card fade-in" style="transition-delay: .25s;">
        <div class="feature-icon"><svg viewBox="0 0 24 24"><line x1="12" y1="1" x2="12" y2="23"/><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/></svg></div>
        <h3>Budget Planning</h3>
        <p>Set a weekly grocery budget and MealMuse builds plans that respect it. No surprise receipts.</p>
      </div>
      <div class="feature-card fade-in" style="transition-delay: .3s;">
        <div class="feature-icon"><svg viewBox="0 0 24 24"><path d="M3 7V5a2 2 0 0 1 2-2h2"/><path d="M17 3h2a2 2 0 0 1 2 2v2"/><path d="M21 17v2a2 2 0 0 1-2 2h-2"/><path d="M7 21H5a2 2 0 0 1-2-2v-2"/><line x1="7" y1="8" x2="7" y2="16"/><line x1="11" y1="8" x2="11" y2="16"/><line x1="15" y1="8" x2="15" y2="12"/><line x1="19" y1="8" x2="19" y2="16"/></svg></div>
        <h3>Barcode Scanner</h3>
        <p>Scan packaged foods to log nutrition data instantly. Great for tracking snacks and pantry staples.</p>
      </div>
    </div>
  </section>

  <!-- PRICING -->
  <section class="pricing">
    <div class="pricing-header fade-in">
      <div class="section-label">Pricing</div>
      <h2>Simple, transparent pricing.</h2>
    </div>
    <div class="pricing-cards">
      <div class="pricing-card fade-in" style="transition-delay: .05s;">
        <div class="pricing-plan-name">Free</div>
        <div class="pricing-price">$0 <span>/ forever</span></div>
        <p class="pricing-subtitle">Get started with the basics.</p>
        <div class="pricing-features">
          <div class="pricing-feature limit">
            <span class="icon-dash"><svg viewBox="0 0 24 24"><line x1="5" y1="12" x2="19" y2="12"/></svg></span>
            3 meal plans per month
          </div>
          <div class="pricing-feature limit">
            <span class="icon-dash"><svg viewBox="0 0 24 24"><line x1="5" y1="12" x2="19" y2="12"/></svg></span>
            5 meal swaps per month
          </div>
          <div class="pricing-feature limit">
            <span class="icon-dash"><svg viewBox="0 0 24 24"><line x1="5" y1="12" x2="19" y2="12"/></svg></span>
            2 revisions per month
          </div>
          <div class="pricing-feature">
            <span class="icon-check"><svg viewBox="0 0 24 24"><polyline points="20 6 9 17 4 12"/></svg></span>
            Grocery lists
          </div>
          <div class="pricing-feature">
            <span class="icon-check"><svg viewBox="0 0 24 24"><polyline points="20 6 9 17 4 12"/></svg></span>
            Nutrition info
          </div>
          <div class="pricing-feature">
            <span class="icon-check"><svg viewBox="0 0 24 24"><polyline points="20 6 9 17 4 12"/></svg></span>
            Step-by-step recipes
          </div>
        </div>
        <div class="pricing-cta">
          <a href="#features-section" class="btn-ghost" onclick="handleNavLink(event, 'features-section')">Get Started Free</a>
        </div>
      </div>
      <div class="pricing-card premium fade-in" style="transition-delay: .15s;">
        <div class="pricing-badge">Popular</div>
        <div class="pricing-plan-name">Premium</div>
        <div class="pricing-price">$4.99 <span>/ month</span></div>
        <p class="pricing-subtitle">Unlimited everything.</p>
        <div class="pricing-features">
          <div class="pricing-feature">
            <span class="icon-check"><svg viewBox="0 0 24 24"><polyline points="20 6 9 17 4 12"/></svg></span>
            Unlimited meal plans
          </div>
          <div class="pricing-feature">
            <span class="icon-check"><svg viewBox="0 0 24 24"><polyline points="20 6 9 17 4 12"/></svg></span>
            Unlimited swaps &amp; revisions
          </div>
          <div class="pricing-feature">
            <span class="icon-check"><svg viewBox="0 0 24 24"><polyline points="20 6 9 17 4 12"/></svg></span>
            Advanced macro tracking
          </div>
          <div class="pricing-feature">
            <span class="icon-check"><svg viewBox="0 0 24 24"><polyline points="20 6 9 17 4 12"/></svg></span>
            Budget planning tools
          </div>
          <div class="pricing-feature">
            <span class="icon-check"><svg viewBox="0 0 24 24"><polyline points="20 6 9 17 4 12"/></svg></span>
            Barcode scanner
          </div>
          <div class="pricing-feature">
            <span class="icon-check"><svg viewBox="0 0 24 24"><polyline points="20 6 9 17 4 12"/></svg></span>
            All cuisines &amp; diets
          </div>
        </div>
        <div class="pricing-cta">
          <a href="https://apps.apple.com/us/app/mealmuse-pro/id6759481440" class="btn-primary" target="_blank" rel="noopener">Start Premium</a>
        </div>
      </div>
    </div>
  </section>

  <!-- ANDROID TESTER -->
  <div class="android-tester fade-in">
    <div class="android-tester-inner">
      <div class="android-tester-icon">
        <svg viewBox="0 0 24 24"><path d="M17.523 2.223a.6.6 0 0 0-.828.205L15.394 4.6a7.593 7.593 0 0 0-6.787 0L7.305 2.428a.6.6 0 1 0-1.033.614L7.52 5.13A7.466 7.466 0 0 0 4.5 11.5h15a7.466 7.466 0 0 0-3.02-6.37l1.248-2.088a.6.6 0 0 0-.205-.819zM9.5 9a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5zm5 0a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5zM4.5 13v5.5A2.5 2.5 0 0 0 7 21h10a2.5 2.5 0 0 0 2.5-2.5V13h-15z"/></svg>
      </div>
      <div class="android-tester-content">
        <div class="android-tester-label">Early Access</div>
        <h3>Help us build MealMuse for Android</h3>
        <p>Get early access to new features before anyone else. Just two quick steps:</p>
        <div class="android-tester-steps">
          <div class="android-tester-step">
            <span class="step-number">1</span>
            <div class="step-text">
              <strong>Join the testing group</strong>
              <span>Request access via our Google Group — approval is instant.</span>
            </div>
            <a href="https://groups.google.com/g/mealmusetesters" class="android-tester-btn" target="_blank" rel="noopener">
              Join Group
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></svg>
            </a>
          </div>
          <div class="android-tester-step">
            <span class="step-number">2</span>
            <div class="step-text">
              <strong>Download on Google Play</strong>
              <span>Once you've joined, download the app — you'll have tester access automatically.</span>
            </div>
            <a href="https://play.google.com/store/apps/details?id=com.mealmuse.app" class="android-tester-btn btn-outline" target="_blank" rel="noopener">
              <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor"><path d="M3.609 1.814L13.792 12 3.61 22.186a.996.996 0 0 1-.61-.92V2.734a1 1 0 0 1 .609-.92zm10.89 10.893l2.302 2.302-10.937 6.333 8.635-8.635zm3.199-3.199l2.144 1.24a1 1 0 0 1 0 1.732l-2.144 1.24-2.53-2.53 2.53-2.682zM5.864 2.658L16.8 8.99l-2.302 2.302-8.634-8.634z"/></svg>
              Google Play
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- CTA BAND -->
  <section class="cta-band fade-in">
    <canvas class="cta-confetti-canvas" id="cta-confetti"></canvas>
    <h2>Ready to eat better?</h2>
    <p>Plan your first week in under a minute.</p>
    <div class="cta-buttons">
      <a href="https://apps.apple.com/us/app/mealmuse-pro/id6759481440" class="btn-primary-light" target="_blank" rel="noopener">
        <svg viewBox="0 0 384 512" width="18" height="18" fill="currentColor"><path d="M318.7 268.7c-.2-36.7 16.4-64.4 50-84.8-18.8-26.9-47.2-41.7-84.7-44.6-35.5-2.8-74.3 20.7-88.5 20.7-15 0-49.4-19.7-76.4-19.7C63.3 141.2 4 184.8 4 273.5c0 26.2 4.8 53.3 14.4 81.2 12.8 36.7 59 126.7 107.2 125.2 25.2-.6 43-17.9 75.8-17.9 31.8 0 48.3 17.9 76.4 17.9 48.6-.7 90.4-82.5 102.6-119.3-65.2-30.7-61.7-90-61.7-91.9zm-56.6-164.2c27.3-32.4 24.8-61.9 24-72.5-24.1 1.4-52 16.4-67.9 34.9-17.5 19.8-27.8 44.3-25.6 71.9 26.1 2 49.9-11.4 69.5-34.3z"/></svg>
        Download on iOS
      </a>
      <a href="https://play.google.com/store/apps/details?id=com.mealmuse.app" class="btn-primary-light" target="_blank" rel="noopener">
        <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor"><path d="M3.609 1.814L13.792 12 3.61 22.186a.996.996 0 0 1-.61-.92V2.734a1 1 0 0 1 .609-.92zm10.89 10.893l2.302 2.302-10.937 6.333 8.635-8.635zm3.199-3.199l2.144 1.24a1 1 0 0 1 0 1.732l-2.144 1.24-2.53-2.53 2.53-2.682zM5.864 2.658L16.8 8.99l-2.302 2.302-8.634-8.634z"/></svg>
        Download on Android
      </a>
    </div>
  </section>

</main>

<!-- ==================== SUPPORT PAGE ==================== -->
<div id="support-page" class="content-page">
  <a href="#" class="back-link" onclick="showPage('landing'); return false;">&#8592; Back to home</a>
  <h1>Support</h1>
  <p class="page-subtitle">We're here to help you get the most out of MealMuse.</p>

  <div class="contact-box">
    <p><strong>Contact us</strong></p>
    <p>Email: <a href="mailto:mealmusedev@gmail.com">mealmusedev@gmail.com</a></p>
    <p style="color: #B0AAA0; font-size: 0.85rem;">We respond within 24 hours.</p>
  </div>

  <h2>Subscription</h2>
  <p>MealMuse Premium costs <strong style="color:#2E2B26;">$4.99/month</strong> and auto-renews each billing cycle. You can cancel anytime through your device settings:</p>
  <p><strong style="color:#2E2B26;">iOS:</strong> Settings → Apple ID → Subscriptions → MealMuse → Cancel</p>
  <p><strong style="color:#2E2B26;">Android:</strong> Google Play Store → Menu → Subscriptions → MealMuse → Cancel</p>

  <h2>Frequently Asked Questions</h2>

  <div class="faq-item">
    <h3>What does Premium include?</h3>
    <p>Unlimited meal plans, swaps, and revisions. Plus advanced macro tracking, budget planning, the barcode scanner, and access to all cuisines and dietary filters.</p>
  </div>
  <div class="faq-item">
    <h3>How do I cancel my subscription?</h3>
    <p><strong style="color:#2E2B26;">On iOS:</strong> Go to Settings → Apple ID → Subscriptions, find MealMuse, and tap Cancel.<br><strong style="color:#2E2B26;">On Android:</strong> Open the Google Play Store → Menu → Subscriptions, find MealMuse, and tap Cancel.<br>You'll keep access until the end of your current billing period on either platform.</p>
  </div>
  <div class="faq-item">
    <h3>Is the nutrition data accurate?</h3>
    <p>Nutrition values are AI-generated approximations and should be used as general guidance. They are not a substitute for professional medical or dietary advice.</p>
  </div>
  <div class="faq-item">
    <h3>What about food allergies?</h3>
    <p>You can set allergen filters to exclude specific ingredients from your meal plans. However, AI detection may not catch every allergen — always verify ingredients independently if you have severe allergies.</p>
  </div>
  <div class="faq-item">
    <h3>How do I restore my purchase?</h3>
    <p>Make sure you're signed in with the same Apple ID or Google account you used to subscribe. Your subscription should restore automatically. If it doesn't, contact us at mealmusedev@gmail.com.</p>
  </div>
</div>

<!-- ==================== PRIVACY POLICY PAGE ==================== -->
<div id="privacy-page" class="content-page">
  <a href="#" class="back-link" onclick="showPage('landing'); return false;">&#8592; Back to home</a>
  <h1>Privacy Policy</h1>
  <p class="page-subtitle">Last updated: January 2025</p>

  <h2>Data We Collect</h2>
  <p>When you use MealMuse, we collect the following information to provide and improve the service:</p>
  <ul>
    <li>Account information (email, display name)</li>
    <li>Meal preferences and dietary settings</li>
    <li>Generated meal plans and saved recipes</li>
    <li>Subscription status and billing identifiers</li>
  </ul>

  <h2>How We Use Your Data</h2>
  <p>Your data is used exclusively to generate meal plans, track nutrition, and manage your account. We do not serve ads, build advertising profiles, or sell your information to third parties.</p>

  <h2>Storage &amp; Security</h2>
  <p>All data is stored in Google Firebase with authentication-based access controls. Only you can access your own data through your authenticated account.</p>

  <h2>Third-Party Services</h2>
  <ul>
    <li><strong style="color:#2E2B26;">Firebase</strong> — data storage and authentication</li>
    <li><strong style="color:#2E2B26;">Anthropic</strong> — AI meal plan generation (receives dietary preferences only)</li>
    <li><strong style="color:#2E2B26;">Open Food Facts</strong> — barcode nutrition lookups</li>
    <li><strong style="color:#2E2B26;">Apple &amp; Google</strong> — subscription billing and payment processing</li>
  </ul>

  <h2>What We Don't Do</h2>
  <ul>
    <li>We don't sell your data</li>
    <li>We don't serve ads</li>
    <li>We don't track your location</li>
    <li>We don't build advertising profiles</li>
  </ul>

  <h2>Data Deletion</h2>
  <p>To delete your account and all associated data, email <a href="mailto:mealmusedev@gmail.com" style="color: #B8885C; font-weight: 500;">mealmusedev@gmail.com</a>. Requests are processed within 30 days.</p>
</div>

<!-- ==================== TERMS OF USE PAGE ==================== -->
<div id="terms-page" class="content-page">
  <a href="#" class="back-link" onclick="showPage('landing'); return false;">&#8592; Back to home</a>
  <h1>Terms of Use</h1>
  <p class="page-subtitle">Last updated: January 2025</p>

  <h2>Service Description</h2>
  <p>MealMuse is an AI-powered meal planning application that generates personalized meal plans, grocery lists, and recipes based on your dietary preferences, budget, and schedule.</p>

  <h2>Medical Disclaimer</h2>
  <p>MealMuse is not a medical service and does not provide medical advice. Meal plans and nutritional information are generated by AI and are intended for general informational purposes only. Always consult a qualified healthcare provider before making significant changes to your diet, especially if you have existing health conditions.</p>

  <h2>Allergen Disclaimer</h2>
  <p>While MealMuse allows you to set allergen filters, AI-based allergen detection may be incomplete or inaccurate. If you have food allergies or intolerances, always independently verify all ingredients before preparing or consuming any meal.</p>

  <h2>Nutritional Information</h2>
  <p>Calorie counts, macronutrient breakdowns, and other nutritional values provided by MealMuse are approximations generated by AI. They should not be relied upon for medical, clinical, or precise dietary tracking purposes.</p>

  <h2>Subscriptions</h2>
  <p>MealMuse Premium is available at $4.99 per month. Subscriptions auto-renew at the end of each billing cycle unless cancelled at least 24 hours before the renewal date. You can manage and cancel your subscription through your Apple ID settings on iOS or Google Play Store on Android.</p>

  <h2>Limitation of Liability</h2>
  <p>MealMuse is provided "as is" without warranty of any kind, express or implied. We do not guarantee the accuracy, completeness, or reliability of any content generated by the service. Use of MealMuse is at your own risk.</p>
</div>

<!-- ==================== ACCOUNT PAGE ==================== -->
<div id="account-page" class="account-page">

  <!-- Sign-in View -->
  <div id="account-signin" class="account-signin">
    <div class="account-signin-icon">
      <svg viewBox="0 0 24 24"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
    </div>
    <h1>Manage Your Account</h1>
    <p class="account-subtitle">Sign in with the same account you use in the MealMuse app to view and manage your subscription.</p>
    <div class="signin-buttons">
      <button class="btn-signin btn-signin-google" onclick="signInWithGoogle()">
        <svg viewBox="0 0 24 24"><path d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92a5.06 5.06 0 0 1-2.2 3.32v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.1z" fill="#4285F4"/><path d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" fill="#34A853"/><path d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" fill="#FBBC05"/><path d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" fill="#EA4335"/></svg>
        Continue with Google
      </button>
      <div class="signin-divider"><span>or</span></div>
      <button class="btn-signin btn-signin-apple" onclick="signInWithApple()">
        <svg viewBox="0 0 384 512" fill="currentColor"><path d="M318.7 268.7c-.2-36.7 16.4-64.4 50-84.8-18.8-26.9-47.2-41.7-84.7-44.6-35.5-2.8-74.3 20.7-88.5 20.7-15 0-49.4-19.7-76.4-19.7C63.3 141.2 4 184.8 4 273.5c0 26.2 4.8 53.3 14.4 81.2 12.8 36.7 59 126.7 107.2 125.2 25.2-.6 43-17.9 75.8-17.9 31.8 0 48.3 17.9 76.4 17.9 48.6-.7 90.4-82.5 102.6-119.3-65.2-30.7-61.7-90-61.7-91.9zm-56.6-164.2c27.3-32.4 24.8-61.9 24-72.5-24.1 1.4-52 16.4-67.9 34.9-17.5 19.8-27.8 44.3-25.6 71.9 26.1 2 49.9-11.4 69.5-34.3z"/></svg>
        Continue with Apple
      </button>
    </div>
    <p class="signin-footer-text">By signing in, you agree to our <a href="#" onclick="showPage('privacy'); return false;">Privacy Policy</a> and <a href="#" onclick="showPage('terms'); return false;">Terms of Use</a>.</p>
  </div>

  <!-- Loading State -->
  <div id="account-loading" class="account-loading" style="display:none;">
    <div class="spinner"></div>
    Loading your account...
  </div>

  <!-- Dashboard View (shown after sign-in) -->
  <div id="account-dashboard" class="account-dashboard">
    <div class="dashboard-header">
      <div class="dashboard-avatar" id="user-avatar">
        <svg viewBox="0 0 24 24"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
      </div>
      <h1 id="user-name">Welcome</h1>
      <p id="user-email"></p>
    </div>

    <div class="account-card">
      <div class="account-card-title">Subscription</div>
      <div class="sub-status">
        <span class="sub-badge" id="sub-badge">Free</span>
      </div>
      <div id="sub-details">
        <p class="sub-detail">You're on the <strong>Free</strong> plan.</p>
      </div>
      <div class="manage-sub-info">
        <p>Subscriptions are managed through your device's app store. Use the links below to manage or cancel.</p>
        <div class="manage-links">
          <a href="https://apps.apple.com/account/subscriptions" target="_blank" rel="noopener" class="manage-link">
            <svg viewBox="0 0 384 512"><path d="M318.7 268.7c-.2-36.7 16.4-64.4 50-84.8-18.8-26.9-47.2-41.7-84.7-44.6-35.5-2.8-74.3 20.7-88.5 20.7-15 0-49.4-19.7-76.4-19.7C63.3 141.2 4 184.8 4 273.5c0 26.2 4.8 53.3 14.4 81.2 12.8 36.7 59 126.7 107.2 125.2 25.2-.6 43-17.9 75.8-17.9 31.8 0 48.3 17.9 76.4 17.9 48.6-.7 90.4-82.5 102.6-119.3-65.2-30.7-61.7-90-61.7-91.9zm-56.6-164.2c27.3-32.4 24.8-61.9 24-72.5-24.1 1.4-52 16.4-67.9 34.9-17.5 19.8-27.8 44.3-25.6 71.9 26.1 2 49.9-11.4 69.5-34.3z"/></svg>
            Manage on iPhone / iPad
          </a>
          <a href="https://play.google.com/store/account/subscriptions" target="_blank" rel="noopener" class="manage-link">
            <svg viewBox="0 0 24 24"><path d="M3.609 1.814L13.792 12 3.61 22.186a.996.996 0 0 1-.61-.92V2.734a1 1 0 0 1 .609-.92zm10.89 10.893l2.302 2.302-10.937 6.333 8.635-8.635zm3.199-3.199l2.144 1.24a1 1 0 0 1 0 1.732l-2.144 1.24-2.53-2.53 2.53-2.682zM5.864 2.658L16.8 8.99l-2.302 2.302-8.634-8.634z"/></svg>
            Manage on Android
          </a>
        </div>
      </div>
    </div>

    <button class="btn-signout" onclick="signOutUser()">Sign Out</button>
  </div>
</div>

<!-- ==================== FOOTER ==================== -->
<footer class="footer">
  <div class="footer-inner">
    <div class="footer-grid">
      <div class="footer-brand">
        <div class="footer-logo">Meal<span class="accent">Muse</span></div>
        <p class="footer-tagline">AI-powered meal planning that fits your diet, budget, and schedule.</p>
      </div>
      <div class="footer-col">
        <div class="footer-col-title">Product</div>
        <a href="#features-section" onclick="handleNavLink(event, 'features-section')">Features</a>
        <a href="https://apps.apple.com/us/app/mealmuse-pro/id6759481440" target="_blank" rel="noopener">Download iOS</a>
        <a href="https://play.google.com/store/apps/details?id=com.mealmuse.app" target="_blank" rel="noopener">Download Android</a>
      </div>
      <div class="footer-col">
        <div class="footer-col-title">Company</div>
        <a href="#" onclick="showPage('support'); return false;">Support</a>
        <a href="#" onclick="showPage('privacy'); return false;">Privacy Policy</a>
        <a href="#" onclick="showPage('terms'); return false;">Terms of Use</a>
        <a href="#" onclick="showPage('account'); return false;">Account</a>
      </div>
    </div>
    <div class="footer-bottom">
      <div class="footer-copy">&copy; 2025 Meal Muse. All rights reserved.</div>
      <div class="footer-contact"><a href="mailto:mealmusedev@gmail.com">mealmusedev@gmail.com</a></div>
    </div>
  </div>
</footer>

<script type="module">
import { initializeApp } from 'https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js';
import { getAuth, signInWithPopup, GoogleAuthProvider, OAuthProvider, signOut, onAuthStateChanged } from 'https://www.gstatic.com/firebasejs/11.0.1/firebase-auth.js';
import { getFirestore, doc, getDoc } from 'https://www.gstatic.com/firebasejs/11.0.1/firebase-firestore.js';

// ========== FIREBASE SETUP ==========
const firebaseConfig = {
  apiKey: "AIzaSyDfzWTsFlTsyXHi2XJBHox84mJE-Fl2780",
  authDomain: "mealmuse-f218b.firebaseapp.com",
  projectId: "mealmuse-f218b",
  storageBucket: "mealmuse-f218b.firebasestorage.app",
  messagingSenderId: "939407104682",
  appId: "1:939407104682:web:42f5807b9160a2b0194ed3"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const db = getFirestore(app);

// ========== PAGE ROUTING ==========
function showPage(page) {
  const landing = document.getElementById('landing-page');
  const support = document.getElementById('support-page');
  const privacy = document.getElementById('privacy-page');
  const terms = document.getElementById('terms-page');
  const account = document.getElementById('account-page');

  // Hide all
  landing.style.display = 'none';
  support.classList.remove('active');
  privacy.classList.remove('active');
  terms.classList.remove('active');
  account.classList.remove('active');

  // Show requested
  switch (page) {
    case 'landing':
      landing.style.display = 'block';
      break;
    case 'support':
      support.classList.add('active');
      break;
    case 'privacy':
      privacy.classList.add('active');
      break;
    case 'terms':
      terms.classList.add('active');
      break;
    case 'account':
      account.classList.add('active');
      break;
  }

  window.scrollTo({ top: 0, behavior: 'smooth' });
}
window.showPage = showPage;

// Handle nav links that point to sections on the landing page
function handleNavLink(e, sectionId) {
  e.preventDefault();
  const landing = document.getElementById('landing-page');

  // If landing page isn't visible, show it first
  if (landing.style.display === 'none') {
    showPage('landing');
    // Wait for DOM update then scroll
    requestAnimationFrame(() => {
      document.getElementById(sectionId)?.scrollIntoView({ behavior: 'smooth' });
    });
  } else {
    document.getElementById(sectionId)?.scrollIntoView({ behavior: 'smooth' });
  }
}
window.handleNavLink = handleNavLink;

// ========== MOBILE MENU ==========
function toggleMobileMenu() {
  const btn = document.querySelector('.mobile-menu-btn');
  const links = document.querySelector('.nav-links');
  const overlay = document.querySelector('.mobile-menu-overlay');
  const isOpen = links.classList.contains('open');
  btn.classList.toggle('active', !isOpen);
  links.classList.toggle('open', !isOpen);
  overlay.classList.toggle('active', !isOpen);
  document.body.style.overflow = isOpen ? '' : 'hidden';
}
window.toggleMobileMenu = toggleMobileMenu;

function closeMobileMenu() {
  const btn = document.querySelector('.mobile-menu-btn');
  const links = document.querySelector('.nav-links');
  const overlay = document.querySelector('.mobile-menu-overlay');
  btn.classList.remove('active');
  links.classList.remove('open');
  overlay.classList.remove('active');
  document.body.style.overflow = '';
}
window.closeMobileMenu = closeMobileMenu;

// Close mobile menu on resize to desktop
window.addEventListener('resize', () => {
  if (window.innerWidth > 768) closeMobileMenu();
});

// ========== FIREBASE AUTH ==========
function showAccountLoading(show) {
  document.getElementById('account-loading').style.display = show ? 'block' : 'none';
  document.getElementById('account-signin').style.display = show ? 'none' : '';
}

async function signInWithGoogle() {
  showAccountLoading(true);
  try {
    const provider = new GoogleAuthProvider();
    await signInWithPopup(auth, provider);
  } catch (error) {
    console.error('Google sign-in error:', error);
    showAccountLoading(false);
    if (error.code !== 'auth/popup-closed-by-user') {
      alert('Sign-in failed. Please try again.');
    }
  }
}
window.signInWithGoogle = signInWithGoogle;

async function signInWithApple() {
  showAccountLoading(true);
  try {
    const provider = new OAuthProvider('apple.com');
    provider.addScope('email');
    provider.addScope('name');
    await signInWithPopup(auth, provider);
  } catch (error) {
    console.error('Apple sign-in error:', error);
    showAccountLoading(false);
    if (error.code !== 'auth/popup-closed-by-user') {
      alert('Sign-in failed. Please try again.');
    }
  }
}
window.signInWithApple = signInWithApple;

async function signOutUser() {
  try {
    await signOut(auth);
  } catch (error) {
    console.error('Sign-out error:', error);
  }
}
window.signOutUser = signOutUser;

async function loadSubscription(uid) {
  try {
    const subDoc = await getDoc(doc(db, 'users', uid, 'subscription', 'status'));
    const badge = document.getElementById('sub-badge');
    const details = document.getElementById('sub-details');

    if (subDoc.exists()) {
      const data = subDoc.data();
      const isActive = data.isActive === true || data.status === 'active';
      const plan = data.plan || data.productId || 'premium';
      const expiresAt = data.expiresAt || data.expirationDate;

      if (isActive) {
        badge.textContent = 'Premium';
        badge.className = 'sub-badge active';
        let detailsHtml = '<p class="sub-detail">You\'re on the <strong>Premium</strong> plan.</p>';
        if (expiresAt) {
          const expDate = expiresAt.toDate ? expiresAt.toDate() : new Date(expiresAt);
          detailsHtml += '<p class="sub-detail">Renews: <strong>' + expDate.toLocaleDateString('en-US', { month: 'long', day: 'numeric', year: 'numeric' }) + '</strong></p>';
        }
        if (data.platform) {
          detailsHtml += '<p class="sub-detail">Platform: <strong>' + (data.platform === 'ios' ? 'Apple App Store' : 'Google Play') + '</strong></p>';
        }
        details.innerHTML = detailsHtml;
      } else {
        badge.textContent = 'Expired';
        badge.className = 'sub-badge expired';
        details.innerHTML = '<p class="sub-detail">Your Premium subscription has expired. Resubscribe through the app to regain access.</p>';
      }
    } else {
      badge.textContent = 'Free';
      badge.className = 'sub-badge free';
      details.innerHTML = '<p class="sub-detail">You\'re on the <strong>Free</strong> plan. Upgrade to Premium in the app for unlimited access.</p>';
    }
  } catch (error) {
    console.error('Error loading subscription:', error);
    document.getElementById('sub-details').innerHTML = '<p class="sub-detail">Unable to load subscription details. Please try again later.</p>';
  }
}

// Listen for auth state changes
onAuthStateChanged(auth, (user) => {
  const signinView = document.getElementById('account-signin');
  const loadingView = document.getElementById('account-loading');
  const dashboardView = document.getElementById('account-dashboard');

  if (user) {
    // User is signed in — show dashboard
    signinView.style.display = 'none';
    loadingView.style.display = 'none';
    dashboardView.classList.add('active');

    // Update user info
    document.getElementById('user-name').textContent = user.displayName || 'Welcome';
    document.getElementById('user-email').textContent = user.email || '';

    const avatarEl = document.getElementById('user-avatar');
    if (user.photoURL) {
      avatarEl.innerHTML = '<img src="' + user.photoURL + '" alt="Profile">';
    }

    // Load subscription data
    loadSubscription(user.uid);
  } else {
    // User is signed out — show sign-in
    signinView.style.display = '';
    loadingView.style.display = 'none';
    dashboardView.classList.remove('active');
  }
});

// ========== SCROLL ANIMATIONS ==========
const observer = new IntersectionObserver((entries) => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      entry.target.classList.add('visible');
    }
  });
}, { threshold: 0.1, rootMargin: '0px 0px -40px 0px' });

document.querySelectorAll('.fade-in').forEach(el => observer.observe(el));

// ========== INTERACTIVE PHONE: MEAL DATA ==========
const weekMeals = [
  // Monday
  [
    { type: 'Breakfast', name: 'Greek Yogurt Bowl', time: '5 min', cal: '320 cal', cost: '$2.40', tags: ['High Protein', 'Quick'], desc: 'Creamy yogurt with honey, granola, and mixed berries.' },
    { type: 'Lunch', name: 'Chicken Caesar Wrap', time: '15 min', cal: '540 cal', cost: '$4.80', tags: ['Balanced', 'Meal Prep'], desc: 'Grilled chicken, romaine, parmesan, and caesar dressing.' },
    { type: 'Dinner', name: 'Lemon Herb Salmon', time: '25 min', cal: '620 cal', cost: '$6.50', tags: ['Omega-3', 'Keto'], desc: 'Pan-seared salmon with lemon, dill, and roasted asparagus.' },
  ],
  // Tuesday
  [
    { type: 'Breakfast', name: 'Avocado Toast', time: '8 min', cal: '380 cal', cost: '$2.90', tags: ['Vegan', 'Fiber'], desc: 'Sourdough toast with smashed avocado, seeds, and chili flakes.' },
    { type: 'Lunch', name: 'Turkey Club Sandwich', time: '10 min', cal: '490 cal', cost: '$5.20', tags: ['Classic', 'Quick'], desc: 'Smoked turkey, bacon, lettuce, tomato on toasted wheat.' },
    { type: 'Dinner', name: 'Beef Stir Fry', time: '20 min', cal: '580 cal', cost: '$5.80', tags: ['Asian', 'High Protein'], desc: 'Tender beef strips with broccoli, peppers, and ginger soy sauce.' },
  ],
  // Wednesday
  [
    { type: 'Breakfast', name: 'Banana Pancakes', time: '12 min', cal: '410 cal', cost: '$1.80', tags: ['Kid-Friendly', 'Sweet'], desc: 'Fluffy banana pancakes with maple syrup and fresh berries.' },
    { type: 'Lunch', name: 'Mediterranean Bowl', time: '10 min', cal: '460 cal', cost: '$4.50', tags: ['Vegetarian', 'Fresh'], desc: 'Quinoa, chickpeas, cucumber, feta, and lemon tahini dressing.' },
    { type: 'Dinner', name: 'Chicken Tikka Masala', time: '35 min', cal: '650 cal', cost: '$5.40', tags: ['Indian', 'Spicy'], desc: 'Tender chicken in creamy tomato-spiced sauce with basmati rice.' },
  ],
  // Thursday
  [
    { type: 'Breakfast', name: 'Overnight Oats', time: '2 min', cal: '290 cal', cost: '$1.50', tags: ['Meal Prep', 'Easy'], desc: 'Oats soaked in almond milk with chia seeds and mango.' },
    { type: 'Lunch', name: 'Tuna Poke Bowl', time: '12 min', cal: '420 cal', cost: '$6.00', tags: ['Japanese', 'Fresh'], desc: 'Sushi-grade tuna over rice with edamame and spicy mayo.' },
    { type: 'Dinner', name: 'Pasta Primavera', time: '22 min', cal: '560 cal', cost: '$4.20', tags: ['Italian', 'Vegetarian'], desc: 'Penne with roasted seasonal vegetables and garlic olive oil.' },
  ],
  // Friday
  [
    { type: 'Breakfast', name: 'Smoothie Bowl', time: '5 min', cal: '340 cal', cost: '$3.20', tags: ['Tropical', 'Vegan'], desc: 'Blended acai, banana, and coconut topped with granola.' },
    { type: 'Lunch', name: 'Fish Tacos', time: '18 min', cal: '480 cal', cost: '$5.60', tags: ['Mexican', 'Omega-3'], desc: 'Crispy cod tacos with cabbage slaw and chipotle crema.' },
    { type: 'Dinner', name: 'Grilled Ribeye Steak', time: '20 min', cal: '720 cal', cost: '$9.50', tags: ['Keto', 'Treat'], desc: 'Juicy ribeye with garlic butter, roasted potatoes, and greens.' },
  ],
  // Saturday
  [
    { type: 'Breakfast', name: 'Eggs Benedict', time: '20 min', cal: '480 cal', cost: '$4.10', tags: ['Brunch', 'Classic'], desc: 'Poached eggs on english muffin with hollandaise sauce.' },
    { type: 'Lunch', name: 'Thai Green Curry', time: '25 min', cal: '520 cal', cost: '$4.80', tags: ['Thai', 'Spicy'], desc: 'Coconut green curry with chicken, bamboo shoots, and basil.' },
    { type: 'Dinner', name: 'Homemade Pizza', time: '40 min', cal: '680 cal', cost: '$4.00', tags: ['Italian', 'Fun'], desc: 'Crispy crust with mozzarella, fresh basil, and san marzano tomatoes.' },
  ],
  // Sunday
  [
    { type: 'Breakfast', name: 'French Toast', time: '15 min', cal: '440 cal', cost: '$2.60', tags: ['Sweet', 'Weekend'], desc: 'Brioche French toast with cinnamon, powdered sugar, and berries.' },
    { type: 'Lunch', name: 'Caprese Salad', time: '5 min', cal: '320 cal', cost: '$4.40', tags: ['Italian', 'Light'], desc: 'Fresh mozzarella, heirloom tomatoes, basil, and balsamic glaze.' },
    { type: 'Dinner', name: 'Roast Chicken', time: '60 min', cal: '590 cal', cost: '$5.20', tags: ['Sunday', 'Classic'], desc: 'Herb-roasted whole chicken with root vegetables and gravy.' },
  ],
];

let currentDay = 0;
const clockSvg = '<svg viewBox="0 0 24 24" width="12" height="12" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>';
const fireSvg = '<svg viewBox="0 0 24 24" width="12" height="12" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z"/></svg>';

function renderMeals(dayIndex) {
  const meals = weekMeals[dayIndex];
  const container = document.getElementById('phone-meals');
  if (!container) return;
  container.innerHTML = meals.map(m => `
    <div class="phone-meal" onclick="this.classList.toggle('expanded')">
      <div class="phone-meal-type">${m.type}</div>
      <div class="phone-meal-name">${m.name}</div>
      <div class="phone-meal-meta">
        <span>${clockSvg} ${m.time}</span>
        <span>${fireSvg} ${m.cal}</span>
        <span>${m.cost}</span>
      </div>
      <div class="phone-meal-detail">
        <div class="phone-meal-desc">${m.desc}</div>
        <div class="phone-meal-detail-inner">
          ${m.tags.map(t => `<span class="phone-meal-tag">${t}</span>`).join('')}
        </div>
      </div>
    </div>
  `).join('');
}

function switchDay(dayIndex) {
  if (dayIndex === currentDay) return;
  const container = document.getElementById('phone-meals');
  const tabs = document.querySelectorAll('#phone-tabs .phone-tab');
  if (!container) return;

  // Update active tab
  tabs.forEach(t => t.classList.remove('active'));
  tabs[dayIndex].classList.add('active');

  // Slide out
  container.classList.add('sliding-out');
  container.addEventListener('animationend', function handler() {
    container.removeEventListener('animationend', handler);
    container.classList.remove('sliding-out');
    currentDay = dayIndex;
    renderMeals(dayIndex);
    container.classList.add('sliding-in');
    container.addEventListener('animationend', function handler2() {
      container.removeEventListener('animationend', handler2);
      container.classList.remove('sliding-in');
    });
  });
}

// Setup phone tabs
document.querySelectorAll('#phone-tabs .phone-tab').forEach(tab => {
  tab.addEventListener('click', () => switchDay(parseInt(tab.dataset.day)));
});

// Render initial day
renderMeals(0);

// ========== 3D TILT EFFECT ON PHONE ==========
const phoneEl = document.querySelector('.phone');
const phoneWrapper = document.querySelector('.phone-wrapper');

if (phoneEl && phoneWrapper) {
  phoneWrapper.addEventListener('mousemove', (e) => {
    const rect = phoneWrapper.getBoundingClientRect();
    const x = (e.clientX - rect.left) / rect.width - 0.5;
    const y = (e.clientY - rect.top) / rect.height - 0.5;

    phoneEl.classList.add('tilt-active');
    phoneEl.style.transform = `
      perspective(800px)
      rotateY(${x * 15}deg)
      rotateX(${-y * 15}deg)
      translateY(${-y * 8}px)
    `;
  });

  phoneWrapper.addEventListener('mouseleave', () => {
    phoneEl.classList.remove('tilt-active');
    phoneEl.style.transform = '';
  });
}

// ========== HERO CURSOR GLOW ==========
const heroSection = document.querySelector('.hero');
const heroGlow = document.getElementById('hero-glow');

if (heroSection && heroGlow) {
  heroSection.addEventListener('mousemove', (e) => {
    const rect = heroSection.getBoundingClientRect();
    heroGlow.style.left = (e.clientX - rect.left) + 'px';
    heroGlow.style.top = (e.clientY - rect.top) + 'px';
  });
}

// ========== ANIMATED STAT COUNTERS ==========
function animateCounter(el, target, suffix = '', prefix = '') {
  const duration = 1500;
  const start = performance.now();
  el.classList.add('counting');

  function update(now) {
    const elapsed = now - start;
    const progress = Math.min(elapsed / duration, 1);
    // Ease out cubic
    const eased = 1 - Math.pow(1 - progress, 3);
    const current = Math.round(target * eased);
    el.textContent = prefix + current.toLocaleString() + suffix;

    if (progress < 1) {
      requestAnimationFrame(update);
    } else {
      el.textContent = prefix + target.toLocaleString() + suffix;
      el.classList.remove('counting');
      el.classList.add('done-counting');
    }
  }
  requestAnimationFrame(update);
}

function animateDecimalCounter(el, target, prefix = '') {
  const duration = 1500;
  const start = performance.now();
  function update(now) {
    const elapsed = now - start;
    const progress = Math.min(elapsed / duration, 1);
    const eased = 1 - Math.pow(1 - progress, 3);
    el.textContent = prefix + (target * eased).toFixed(2);
    if (progress < 1) {
      requestAnimationFrame(update);
    } else {
      el.textContent = prefix + target.toFixed(2);
      el.classList.add('done-counting');
    }
  }
  requestAnimationFrame(update);
}

const statCounterObserver = new IntersectionObserver((entries) => {
  entries.forEach(entry => {
    if (entry.isIntersecting && !entry.target.dataset.counted) {
      entry.target.dataset.counted = 'true';
      const text = entry.target.textContent.trim();
      if (text === '500+') animateCounter(entry.target, 500, '+');
      else if (text === '15+') animateCounter(entry.target, 15, '+');
      else if (text === '$4.99') animateDecimalCounter(entry.target, 4.99, '$');
    }
  });
}, { threshold: 0.5 });

document.querySelectorAll('.stat-card-number').forEach(el => {
  statCounterObserver.observe(el);
});

// ========== MAGNETIC FEATURE CARDS ==========
document.querySelectorAll('.feature-card').forEach(card => {
  card.addEventListener('mousemove', (e) => {
    const rect = card.getBoundingClientRect();
    const x = e.clientX - rect.left - rect.width / 2;
    const y = e.clientY - rect.top - rect.height / 2;
    card.style.transform = `translateY(-4px) translate(${x * 0.04}px, ${y * 0.04}px)`;
  });

  card.addEventListener('mouseleave', () => {
    card.style.transform = '';
  });
});

// ========== SHUFFLE / GENERATE MEALS ==========
const allMealNames = {
  Breakfast: ['Greek Yogurt Bowl','Avocado Toast','Banana Pancakes','Overnight Oats','Smoothie Bowl','Eggs Benedict','French Toast','Chia Pudding','Shakshuka','Acai Bowl','Granola Parfait','Breakfast Burrito'],
  Lunch: ['Chicken Caesar Wrap','Turkey Club Sandwich','Mediterranean Bowl','Tuna Poke Bowl','Fish Tacos','Thai Green Curry','Caprese Salad','Falafel Wrap','BLT Sandwich','Soba Noodle Bowl','Veggie Burger','Greek Salad'],
  Dinner: ['Lemon Herb Salmon','Beef Stir Fry','Chicken Tikka Masala','Pasta Primavera','Grilled Ribeye Steak','Homemade Pizza','Roast Chicken','Pad Thai','Lamb Tagine','Shrimp Scampi','Mushroom Risotto','Teriyaki Salmon']
};

const mealTimes = ['3 min','5 min','8 min','10 min','12 min','15 min','18 min','20 min','25 min','30 min','35 min','40 min'];
const mealCals = ['280 cal','320 cal','380 cal','420 cal','460 cal','520 cal','540 cal','580 cal','620 cal','680 cal','720 cal'];
const mealCosts = ['$1.50','$2.20','$2.90','$3.40','$4.00','$4.50','$5.20','$5.80','$6.50','$7.20','$8.00','$9.50'];
const mealTagsList = [['Quick','Easy'],['High Protein','Keto'],['Vegan','Fresh'],['Asian','Spicy'],['Italian','Classic'],['Omega-3','Balanced'],['Mexican','Fun'],['Indian','Aromatic'],['Thai','Coconut'],['Kid-Friendly','Sweet']];
const mealDescs = [
  'A light and refreshing dish full of vibrant seasonal flavors.',
  'Rich and savory with perfectly balanced spices and herbs.',
  'Quick to prepare and packed with protein for sustained energy.',
  'A crowd-pleaser that comes together in minutes.',
  'Fresh ingredients combined with a zesty homemade dressing.',
  'Comfort food at its finest — warm, hearty, and satisfying.',
];

function randomFrom(arr) { return arr[Math.floor(Math.random() * arr.length)]; }

function generateRandomMeals() {
  return ['Breakfast','Lunch','Dinner'].map(type => ({
    type,
    name: randomFrom(allMealNames[type]),
    time: randomFrom(mealTimes),
    cal: randomFrom(mealCals),
    cost: randomFrom(mealCosts),
    tags: randomFrom(mealTagsList),
    desc: randomFrom(mealDescs),
  }));
}

function shuffleMeals() {
  const btn = document.getElementById('phone-generate');
  if (!btn || btn.classList.contains('spinning')) return;
  btn.classList.add('spinning');
  setTimeout(() => btn.classList.remove('spinning'), 600);

  const container = document.getElementById('phone-meals');
  if (!container) return;

  // Shuffle out existing
  const existingMeals = container.querySelectorAll('.phone-meal');
  existingMeals.forEach((m, i) => {
    m.style.animationDelay = (i * 0.06) + 's';
    m.classList.add('shuffle-out');
  });

  setTimeout(() => {
    // Generate new random meals for this day
    const newMeals = generateRandomMeals();
    weekMeals[currentDay] = newMeals;
    renderMeals(currentDay);

    // Shuffle in new meals
    const newMealEls = container.querySelectorAll('.phone-meal');
    newMealEls.forEach((m, i) => {
      m.style.animationDelay = (i * 0.08) + 's';
      m.classList.add('shuffle-in');
      m.addEventListener('animationend', () => m.classList.remove('shuffle-in'), { once: true });
    });
  }, 300);
}
window.shuffleMeals = shuffleMeals;

// ========== PHONE NOTIFICATION TOASTS ==========
const toastMessages = [
  { icon: '🥗', title: 'New Recipe Added', body: 'Mediterranean Quinoa Bowl is ready!' },
  { icon: '🔥', title: 'Streak: 7 Days', body: 'You\'ve been consistent all week!' },
  { icon: '🛒', title: 'Grocery List Ready', body: '12 items · Est. $42.50' },
  { icon: '⭐', title: 'Meal Rated 5 Stars', body: 'Lemon Herb Salmon was a hit!' },
  { icon: '📊', title: 'Weekly Summary', body: 'Avg 1,480 cal/day · Under budget!' },
  { icon: '🎉', title: 'Goal Reached', body: 'You hit your protein target today!' },
  { icon: '🍳', title: 'Cooking Now', body: 'Start your Eggs Benedict — 20 min' },
  { icon: '💡', title: 'Tip of the Day', body: 'Try batch-cooking grains on Sunday!' },
];

let toastTimeout = null;
function showPhoneToast() {
  const toast = document.getElementById('phone-toast');
  if (!toast) return;
  const msg = randomFrom(toastMessages);
  document.getElementById('phone-toast-icon').textContent = msg.icon;
  document.getElementById('phone-toast-title').textContent = msg.title;
  document.getElementById('phone-toast-body').textContent = msg.body;

  toast.classList.add('show');
  clearTimeout(toastTimeout);
  toastTimeout = setTimeout(() => toast.classList.remove('show'), 3000);
}

// Show first toast after 3s, then every 8-12s
setTimeout(showPhoneToast, 3000);
setInterval(() => {
  showPhoneToast();
}, 8000 + Math.random() * 4000);

// ========== SCROLL PROGRESS BAR ==========
const scrollProgressEl = document.getElementById('scroll-progress');
function updateScrollProgress() {
  const scrollTop = window.scrollY;
  const docHeight = document.documentElement.scrollHeight - window.innerHeight;
  const progress = docHeight > 0 ? (scrollTop / docHeight) * 100 : 0;
  if (scrollProgressEl) scrollProgressEl.style.width = progress + '%';
}
window.addEventListener('scroll', updateScrollProgress, { passive: true });

// ========== BUTTON RIPPLE EFFECTS ==========
function addRipple(e) {
  const btn = e.currentTarget;
  const circle = document.createElement('span');
  const rect = btn.getBoundingClientRect();
  const size = Math.max(rect.width, rect.height);
  circle.style.width = circle.style.height = size + 'px';
  circle.style.left = (e.clientX - rect.left - size / 2) + 'px';
  circle.style.top = (e.clientY - rect.top - size / 2) + 'px';
  circle.classList.add('ripple-circle');
  btn.appendChild(circle);
  circle.addEventListener('animationend', () => circle.remove());
}

document.querySelectorAll('.btn-primary, .btn-ghost, .btn-primary-light, .btn-platform, .btn-signin').forEach(btn => {
  btn.classList.add('btn-ripple');
  btn.addEventListener('click', addRipple);
});

// ========== FLOATING FOOD PARTICLES ==========
const foodEmojis = ['🥑','🍋','🥦','🍅','🫐','🥕','🍊','🌿','🧄','🍇','🥬','🍳','🥐','🧀'];
const heroEl = document.querySelector('.hero');

function spawnFoodParticle() {
  if (!heroEl) return;
  const particle = document.createElement('div');
  particle.className = 'food-particle';
  particle.textContent = randomFrom(foodEmojis);
  particle.style.left = (Math.random() * 100) + '%';
  particle.style.bottom = '-30px';
  particle.style.animationDuration = (5 + Math.random() * 6) + 's';
  particle.style.fontSize = (0.9 + Math.random() * 0.8) + 'rem';
  heroEl.appendChild(particle);
  particle.addEventListener('animationend', () => particle.remove());
}

// Spawn particles periodically
setInterval(spawnFoodParticle, 2000);
// Spawn a few initially
for (let i = 0; i < 3; i++) setTimeout(spawnFoodParticle, i * 600);

// ========== 3D TILT ON PRICING CARDS ==========
document.querySelectorAll('.pricing-card').forEach(card => {
  card.addEventListener('mousemove', (e) => {
    const rect = card.getBoundingClientRect();
    const x = (e.clientX - rect.left) / rect.width - 0.5;
    const y = (e.clientY - rect.top) / rect.height - 0.5;
    card.style.transform = card.classList.contains('premium')
      ? `scale(1.03) perspective(600px) rotateY(${x * 8}deg) rotateX(${-y * 8}deg)`
      : `perspective(600px) rotateY(${x * 8}deg) rotateX(${-y * 8}deg)`;
    card.style.boxShadow = `${-x * 15}px ${y * 15}px 40px rgba(0,0,0,0.08)`;
  });
  card.addEventListener('mouseleave', () => {
    card.style.transform = card.classList.contains('premium') ? 'scale(1.03)' : '';
    card.style.boxShadow = '';
  });
});

// ========== TEXT REVEAL ON SECTION HEADINGS ==========
function splitTextForReveal(el) {
  const text = el.textContent;
  el.innerHTML = '';
  el.classList.add('text-reveal');
  for (let i = 0; i < text.length; i++) {
    const span = document.createElement('span');
    span.className = 'char';
    span.textContent = text[i] === ' ' ? '\u00a0' : text[i];
    span.style.transitionDelay = (i * 0.02) + 's';
    el.appendChild(span);
  }
}

const headingsToReveal = document.querySelectorAll('.features-header h2, .pricing-header h2, .cta-band h2');
headingsToReveal.forEach(h => splitTextForReveal(h));

const textRevealObserver = new IntersectionObserver((entries) => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      entry.target.classList.add('revealed');
    }
  });
}, { threshold: 0.3 });

document.querySelectorAll('.text-reveal').forEach(el => textRevealObserver.observe(el));

// ========== PARALLAX ON SCROLL ==========
const parallaxElements = [
  { el: document.querySelector('.hero::before'), speed: 0.3 },
];

// Apply parallax classes
document.querySelectorAll('.stat-card').forEach(card => card.classList.add('parallax-layer'));

function applyParallax() {
  const scrollY = window.scrollY;
  document.querySelectorAll('.stat-card.parallax-layer').forEach((el, i) => {
    const rect = el.getBoundingClientRect();
    const center = rect.top + rect.height / 2;
    const offset = (center - window.innerHeight / 2) * 0.04;
    el.style.transform = `translateY(${-offset}px)`;
  });
}
window.addEventListener('scroll', applyParallax, { passive: true });

// ========== STAT CARD GLOW FOLLOW ==========
document.querySelectorAll('.stat-card').forEach(card => {
  card.addEventListener('mousemove', (e) => {
    const rect = card.getBoundingClientRect();
    const x = ((e.clientX - rect.left) / rect.width) * 100;
    const y = ((e.clientY - rect.top) / rect.height) * 100;
    card.style.setProperty('--mouse-x', x + '%');
    card.style.setProperty('--mouse-y', y + '%');
  });
});

// ========== CTA CONFETTI ON HOVER ==========
const ctaCanvas = document.getElementById('cta-confetti');
const ctaBand = document.querySelector('.cta-band');
let confettiParticles = [];
let confettiAnimating = false;

function initConfettiCanvas() {
  if (!ctaCanvas || !ctaBand) return;
  const rect = ctaBand.getBoundingClientRect();
  ctaCanvas.width = rect.width;
  ctaCanvas.height = rect.height;
}

function spawnConfetti(x, y) {
  if (!ctaCanvas) return;
  const ctx = ctaCanvas.getContext('2d');
  const colors = ['#B8885C', '#7DA86E', '#E8D5B7', '#C4956A', '#9FC48F', '#D4A574'];

  for (let i = 0; i < 12; i++) {
    confettiParticles.push({
      x, y,
      vx: (Math.random() - 0.5) * 8,
      vy: (Math.random() - 0.5) * 8 - 3,
      size: 3 + Math.random() * 4,
      color: colors[Math.floor(Math.random() * colors.length)],
      life: 1,
      rotation: Math.random() * 360,
      rotSpeed: (Math.random() - 0.5) * 10,
    });
  }

  if (!confettiAnimating) {
    confettiAnimating = true;
    animateConfetti();
  }
}

function animateConfetti() {
  if (!ctaCanvas) return;
  const ctx = ctaCanvas.getContext('2d');
  ctx.clearRect(0, 0, ctaCanvas.width, ctaCanvas.height);

  confettiParticles.forEach(p => {
    p.x += p.vx;
    p.y += p.vy;
    p.vy += 0.15;
    p.life -= 0.015;
    p.rotation += p.rotSpeed;

    ctx.save();
    ctx.translate(p.x, p.y);
    ctx.rotate(p.rotation * Math.PI / 180);
    ctx.globalAlpha = Math.max(0, p.life);
    ctx.fillStyle = p.color;
    ctx.fillRect(-p.size / 2, -p.size / 2, p.size, p.size * 0.6);
    ctx.restore();
  });

  confettiParticles = confettiParticles.filter(p => p.life > 0);

  if (confettiParticles.length > 0) {
    requestAnimationFrame(animateConfetti);
  } else {
    confettiAnimating = false;
    ctx.clearRect(0, 0, ctaCanvas.width, ctaCanvas.height);
  }
}

if (ctaBand && ctaCanvas) {
  initConfettiCanvas();
  window.addEventListener('resize', initConfettiCanvas);

  ctaBand.addEventListener('mousemove', (e) => {
    const rect = ctaBand.getBoundingClientRect();
    if (Math.random() > 0.7) {
      spawnConfetti(e.clientX - rect.left, e.clientY - rect.top);
    }
  });
}

// ========== AUTO-CYCLE PHONE DAYS ==========
let autoCycleTimer = null;

function startAutoCycle() {
  autoCycleTimer = setInterval(() => {
    const nextDay = (currentDay + 1) % 7;
    switchDay(nextDay);
  }, 4000);
}

function stopAutoCycle() {
  if (autoCycleTimer) {
    clearInterval(autoCycleTimer);
    autoCycleTimer = null;
  }
}

// Start auto-cycling, pause on hover
if (phoneWrapper) {
  startAutoCycle();
  phoneWrapper.addEventListener('mouseenter', stopAutoCycle);
  phoneWrapper.addEventListener('mouseleave', () => {
    stopAutoCycle();
    startAutoCycle();
  });
}

// Initialize landing page
showPage('landing');
</script>

</body>
</html>
